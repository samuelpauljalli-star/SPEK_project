<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPEK | Next Gen Electronics</title>
    <meta name="description"
        content="SPEK - Your destination for high-quality electronic products, quality and quantity at a friendly budget.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Syncopate:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root {
            --primary: #ff7e5f;
            --primary-gradient: linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%);
            --primary-dark: #e67e22;
            --secondary: #0f172a;
            --accent: #00d2ff;
            --accent-gradient: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            --bg-light: #f1f5f9;
            --white: #ffffff;
            --text-main: #0f172a;
            --text-light: #64748b;
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        html {
            scroll-behavior: smooth;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Outfit', sans-serif;
        }

        h1,
        h2,
        h3,
        h4,
        .logo {
            font-family: 'Space Grotesk', sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-main);
            overflow-x: hidden;
            line-height: 1.6;
        }

        nav {
            background: var(--white);
            padding: 0.8rem 5%;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        @keyframes brandFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .logo .brand-primary {
            color: var(--primary);
            font-weight: 800;
            font-family: 'Syncopate', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: brandFloat 3s ease-in-out infinite;
        }

        .logo .brand-secondary {
            color: var(--accent);
            font-weight: 600;
            font-size: 0.7rem;
            letter-spacing: 4px;
            margin-top: -2px;
            animation: brandFloat 3s ease-in-out infinite 0.5s;
        }

        .logo img {
            height: 55px;
            width: auto;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
            padding: 2px;
            background: white;
            transition: var(--transition);
        }

        .logo:hover img {
            transform: scale(1.1) rotate(15deg);
            border-color: var(--accent);
        }

        .logo i {
            display: none;
        }

        .nav-search {
            flex: 0 1 400px;
            position: relative;
        }

        .nav-search {
            position: relative;
            background: white;
            border: 2px solid var(--primary);
            border-radius: 50px;
            padding: 0 15px;
            flex: 1;
            max-width: 500px;
            margin: 0 2rem;
            height: 40px;
            display: none;
            align-items: center;
        }

        .nav-search.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @media (max-width: 768px) {
            .nav-search {
                width: 100%;
                margin: 10px 0 0;
                order: 3;
            }
        }

        .nav-search input {
            border: none;
            background: transparent;
            padding: 0 10px 0 30px;
            outline: none;
            font-size: 0.85rem;
            width: 100%;
            height: 100%;
            color: var(--secondary);
        }

        .nav-search i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            z-index: 1;
        }

        .nav-actions {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--secondary);
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .nav-btn:hover {
            color: var(--primary);
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -10px;
            background: var(--primary);
            color: white;
            font-size: 0.7rem;
            padding: 1px 6px;
            border-radius: 50%;
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            height: 70vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            padding: 0 5%;
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 2s ease-in-out, transform 10s linear;
            z-index: -1;
            transform: scale(1);
        }

        .hero-slide:nth-child(1) {
            background-image: url('https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&q=80&w=1920');
        }

        .hero-slide:nth-child(2) {
            background-image: url('https://images.unsplash.com/photo-1550009158-9ebf69173e03?auto=format&fit=crop&q=80&w=1920');
        }

        .hero-slide:nth-child(3) {
            background-image: url('https://images.unsplash.com/photo-1468436139062-f60a71c5c892?auto=format&fit=crop&q=80&w=1920');
        }

        .hero-slide:nth-child(4) {
            background-image: url('https://images.unsplash.com/photo-1625842268584-8f3bdca0ffb3?auto=format&fit=crop&q=80&w=1920');
        }

        .hero-slide.active {
            opacity: 1;
            transform: scale(1.05);
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.8) 40%, rgba(255, 255, 255, 0) 100%);
            z-index: 0;
        }

        .hero-content {
            max-width: 600px;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-content h1 {
            font-size: 3.5rem;
            color: var(--secondary);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--text-light);
        }

        .cta-btn {
            padding: 1rem 2.5rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 20px rgba(255, 126, 95, 0.3);
        }

        .cta-btn:hover {
            transform: translateY(-5px);
            background: var(--primary-dark);
            box-shadow: 0 15px 30px rgba(255, 126, 95, 0.5);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .category-card,
        .product-card,
        .footer-col {
            animation: fadeInUp 0.8s ease-out both;
        }

        .category-grid>*:nth-child(1) {
            animation-delay: 0.1s;
        }

        .category-grid>*:nth-child(2) {
            animation-delay: 0.2s;
        }

        .category-grid>*:nth-child(3) {
            animation-delay: 0.3s;
        }

        .category-grid>*:nth-child(4) {
            animation-delay: 0.4s;
        }

        .category-grid>*:nth-child(5) {
            animation-delay: 0.5s;
        }

        /* Categories Section */
        .categories {
            padding: 4rem 5%;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--secondary);
        }

        .section-title p {
            color: var(--text-light);
        }

        .category-grid {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .category-card {
            background: white;
            padding: 1.5rem 1rem;
            border-radius: 24px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
            border-color: var(--primary);
            background: var(--primary-gradient);
            color: white;
        }

        .category-card i {
            font-size: 1.5rem;
            width: 60px;
            height: 60px;
            background: var(--accent-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(0, 210, 255, 0.3);
        }

        .category-card:hover i {
            transform: rotate(360deg);
            background: white;
            color: var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .category-card h3 {
            font-size: 0.9rem;
        }

        .category-card:hover i {
            color: white;
        }

        /* Products Section */
        .products {
            padding: 4rem 5%;
            background: white;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
            gap: 15px;
        }

        .product-card {
            background: var(--bg-light);
            border-radius: 15px;
            overflow: hidden;
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .product-img {
            height: 200px;
            width: 100%;
            object-fit: cover;
            background: white;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-img {
            transform: scale(1.1);
        }

        .product-info {
            padding: 0.75rem;
        }

        .product-tag {
            font-size: 0.6rem;
            color: var(--primary);
            font-weight: 600;
            text-transform: uppercase;
        }

        .product-title {
            font-size: 0.85rem;
            font-weight: 600;
            margin: 0.3rem 0;
            color: var(--secondary);
            line-height: 1.2;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 2px;
        }

        .current-price {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary);
        }

        .old-price {
            font-size: 0.8rem;
            color: var(--text-light);
            text-decoration: line-through;
            font-weight: 400;
        }

        .discount-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            z-index: 5;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .product-actions {
            margin-top: 1rem;
            display: flex;
            gap: 10px;
        }

        .add-cart-btn {
            flex: 1;
            padding: 0.4rem;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.75rem;
            transition: var(--transition);
        }

        .add-cart-btn:hover {
            background: var(--primary);
        }

        .wish-btn {
            width: 32px;
            border: 1.5px solid #e2e8f0;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-light);
        }

        .wish-btn:hover,
        .wish-btn.active {
            color: #ef4444;
            border-color: #ef4444;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: flex-end;
            z-index: 2000;
        }

        .modal-content {
            width: 450px;
            max-width: 100%;
            height: 100%;
            background: white;
            padding: 2rem;
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            animation: slideIn 0.4s ease;
        }

        .modal-content.wide {
            width: 600px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
            }

            to {
                transform: translateX(0);
            }
        }

        @keyframes fadeInUpModal {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-modal-item {
            animation: fadeInUpModal 0.6s ease forwards;
            opacity: 0;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-modal-item:nth-child(1) {
            animation-delay: 0.1s;
        }

        .animate-modal-item:nth-child(2) {
            animation-delay: 0.3s;
        }

        .animate-modal-item:nth-child(3) {
            animation-delay: 0.5s;
        }

        .animate-modal-item:nth-child(4) {
            animation-delay: 0.7s;
        }

        .animate-modal-item:nth-child(5) {
            animation-delay: 0.9s;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .modal-items {
            flex: 1;
            overflow-y: auto;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 1rem 0;
            border-bottom: 1px solid #f1f5f9;
            align-items: center;
        }

        .cart-item img {
            width: 70px;
            height: 70px;
            border-radius: 10px;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 700;
        }

        .remove-item {
            background: none;
            border: none;
            color: #ef4444;
            cursor: pointer;
        }

        .modal-footer {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 2px solid #f1f5f9;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: var(--text-main);
        }

        .grand-total-row {
            display: flex;
            justify-content: space-between;
            font-size: 1.5rem;
            font-weight: 800;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
            color: var(--primary);
        }

        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .checkout-btn:hover {
            background: var(--primary-dark);
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 480px) {
            .form-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
        }

        /* Login Form Styles */
        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--secondary);
        }

        .form-group input {
            padding: 0.8rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            outline: none;
            transition: var(--transition);
        }

        .form-group input:focus {
            border-color: var(--primary);
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
        }

        .form-options a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        .user-logged-in {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            text-align: center;
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Product Gallery Styles */
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 2rem;
        }

        .main-img-container {
            width: 100%;
            height: auto;
            min-height: 300px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            background: #f1f5f9;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .main-img-container img {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 500px;
            object-fit: contain;
            transition: var(--transition);
        }

        .thumb-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .thumb-item {
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            background: #f1f5f9;
        }

        .thumb-item:hover {
            opacity: 0.8;
        }

        .thumb-item.active {
            border-color: var(--primary);
        }

        .thumb-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Order History View */
        .order-card {
            border: 1px solid #e2e8f0;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .order-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        /* Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--secondary);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            z-index: 3000;
            transition: var(--transition);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        /* Footer */
        footer {
            background: var(--secondary);
            color: white;
            padding: 4rem 5% 2rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 3rem;
        }

        .footer-col h3 {
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary);
            padding-left: 5px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #334155;
            color: #94a3b8;
        }

        @media (max-width: 1024px) {
            .hero-content h1 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 0.8rem 3%;
                flex-wrap: wrap;
                gap: 10px;
            }

            .logo {
                font-size: 1.4rem;
                gap: 8px;
            }

            .logo img {
                height: 50px;
                width: 50px;
            }



            .nav-search {
                order: 3;
                flex: 1 1 100%;
                margin-top: 5px;
            }

            .nav-search input {
                background: #f1f5f9;
                padding: 10px 15px 10px 40px;
            }

            .nav-actions {
                gap: 1.2rem;
            }

            .hero {
                height: auto;
                min-height: 500px;
                margin-top: 130px;
                padding: 3rem 5%;
                justify-content: center;
                text-align: center;
            }

            .hero-overlay {
                background: rgba(255, 255, 255, 0.9);
            }

            .hero-content {
                max-width: 100%;
            }

            .hero-content h1 {
                font-size: 2.2rem;
            }

            .hero-content p {
                font-size: 1.1rem;
            }

            .modal-content {
                width: 100% !important;
                padding: 1.5rem;
            }

            .section-title h2 {
                font-size: 2rem;
            }

            .products,
            .categories {
                padding: 3rem 3%;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        @media (max-width: 480px) {
            .logo .brand-primary {
                font-size: 1.2rem;
            }

            .nav-actions {
                gap: 0.8rem;
            }

            .nav-btn {
                font-size: 1.1rem;
            }

            .section-title h2 {
                font-size: 1.8rem;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }

            .category-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }

            .cta-btn {
                padding: 0.8rem 2rem;
                font-size: 1rem;
            }
        }

        @media (max-width: 360px) {
            .nav-actions {
                gap: 0.5rem;
            }

            .nav-btn {
                font-size: 1rem;
            }

            .logo img {
                height: 40px;
                width: 40px;
            }
        }

        /* Star Rating */
        .star-rating {
            color: #ffc107;
            font-size: 0.85rem;
            margin: 5px 0;
            display: flex;
            gap: 2px;
        }

        /* Recently Viewed Section */
        .recently-viewed {
            background: #f8fafc;
            padding: 2rem 5%;
            overflow: hidden;
        }

        .recent-scroll-container {
            width: 100%;
            overflow-x: auto;
            padding: 1rem 0 2rem;
            scrollbar-width: none;
            /* Hide scrollbar Firefox */
        }

        .recent-scroll-container::-webkit-scrollbar {
            display: none;
            /* Hide scrollbar Chrome/Safari */
        }

        .recent-track {
            display: flex;
            gap: 20px;
            padding: 0 10px;
        }

        .recent-card {
            min-width: 200px;
            background: white;
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: var(--transition);
        }

        .recent-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .recent-card img {
            width: 100%;
            height: 120px;
            object-fit: contain;
            border-radius: 10px;
        }

        .recent-card h4 {
            font-size: 0.9rem;
            margin-top: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--secondary);
        }

        /* Product Gallery & Specs */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
            text-align: left;
        }

        .spec-item {
            background: #f8fafc;
            padding: 10px;
            border-radius: 10px;
            font-size: 0.85rem;
            border: 1px solid #e2e8f0;
        }

        .spec-label {
            color: var(--text-light);
            font-size: 0.75rem;
            display: block;
            margin-bottom: 2px;
            font-weight: 600;
        }

        .spec-value {
            color: var(--secondary);
            font-weight: 500;
        }

        /* Success/Feedback Modal */
        .feedback-content {
            text-align: center;
            padding: 1rem;
        }

        .feedback-stars {
            font-size: 2rem;
            color: #cbd5e1;
            margin: 1.5rem 0;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .feedback-stars i {
            cursor: pointer;
            transition: var(--transition);
        }

        .feedback-stars i.active {
            color: #ffc107;
        }
    </style>
</head>

<body>

    <nav>
        <div
            style="display: flex; align-items: center; justify-content: space-between; width: 100%; flex-wrap: wrap; gap: 10px;">
            <div style="display: flex; align-items: center; gap: 1rem; flex: 1; min-width: 0;">
                <a href="#" class="logo">
                    <img src="spek_logo.png" alt="SPEK Logo">
                    <div style="display: flex; flex-direction: column; line-height: 1.1;">
                        <span class="brand-primary">SPEK</span>
                        <span class="brand-secondary">NEXT GEN</span>
                    </div>
                </a>
            </div>

            <div class="nav-search" id="search-bar">
                <i class="fas fa-search" style="color: var(--secondary);"></i>
                <input type="text" id="search-input" placeholder="Search smartphones, laptops, audio gadgets..."
                    oninput="handleSearch(this.value)">
            </div>

            <div class="nav-actions">
                <a href="#" class="nav-btn" title="Home">
                    <i class="fas fa-home"></i>
                </a>
                <button class="nav-btn" onclick="toggleSearch()" title="Search">
                    <i class="fas fa-search"></i>
                </button>
                <button class="nav-btn" onclick="openModal('wishlist')">
                    <i class="far fa-heart"></i>
                    <span class="badge" id="wishlist-count">0</span>
                </button>
                <button class="nav-btn" onclick="openModal('cart')">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge" id="cart-count">0</span>
                </button>
                <button class="nav-btn" onclick="openModal('orders')">
                    <i class="fas fa-box"></i>
                </button>
                <button class="nav-btn" id="login-nav-btn" onclick="openModal('login')">
                    <i class="fas fa-user-circle"></i>
                </button>
            </div>
        </div>


    </nav>
    <section class="hero">
        <div class="hero-slide active"
            style="background-image: url('https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&q=80&w=1920')">
        </div>
        <div class="hero-slide"
            style="background-image: url('https://images.unsplash.com/photo-1550009158-9ebf69173e03?auto=format&fit=crop&q=80&w=1920')">
        </div>
        <div class="hero-slide"
            style="background-image: url('https://images.unsplash.com/photo-1468436139062-f60a71c5c892?auto=format&fit=crop&q=80&w=1920')">
        </div>
        <div class="hero-slide"
            style="background-image: url('https://images.unsplash.com/photo-1625842268584-8f3bdca0ffb3?auto=format&fit=crop&q=80&w=1920')">
        </div>
        <div class="hero-slide"
            style="background-image: url('https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?auto=format&fit=crop&q=80&w=1920')">
        </div>
        <div class="hero-overlay"></div>
        <div class="hero-content" style="position: relative; z-index: 2;">
            <p class="product-tag" style="color: var(--primary); font-weight: 700;">NEXT GEN ELECTRONICS</p>
            <h1>High Quality Electronics at Friendly Budgets</h1>
            <p>Experience excellence in quality and quantity. We provide top-tier electronic products tailored for your
                needs and budget.</p>
            <button class="cta-btn"
                onclick="renderProducts('All'); document.getElementById('products-heading').scrollIntoView({behavior: 'smooth'})">Explore
                Products</button>
        </div>
    </section>

    <section class="categories">
        <div class="section-title">
            <h2>Explore Categories</h2>
            <p>Premium tech for every digital need</p>
        </div>
        <div class="category-grid">
            <div class="category-card" onclick="renderProducts('All')">
                <i class="fas fa-microchip"></i>
                <h3>All</h3>
            </div>
            <div class="category-card" onclick="renderProducts('Phones')">
                <i class="fas fa-mobile-alt"></i>
                <h3>Phones</h3>
            </div>
            <div class="category-card" onclick="renderProducts('Laptops')">
                <i class="fas fa-laptop"></i>
                <h3>Laptops</h3>
            </div>
            <div class="category-card" onclick="renderProducts('Audio')">
                <i class="fas fa-headphones"></i>
                <h3>Audio</h3>
            </div>
            <div class="category-card" onclick="renderProducts('Gaming')">
                <i class="fas fa-gamepad"></i>
                <h3>Gaming</h3>
            </div>
            <div class="category-card" onclick="renderProducts('Gadgets')">
                <i class="fas fa-plug"></i>
                <h3>Gadgets</h3>
            </div>
        </div>
    </section>

    <!-- Recently Viewed Section -->
    <section class="recently-viewed" id="recent-section" style="display: none;">
        <div class="section-title">
            <h2>Recently Viewed</h2>
            <p>Continue your premium shopping experience</p>
        </div>
        <div class="recent-scroll-container">
            <div class="recent-track" id="recent-track">
                <!-- Recently viewed items here -->
            </div>
        </div>
    </section>

    <section class="products">
        <div class="section-title">
            <h2 id="products-heading">Featured Products</h2>
            <p id="products-subheading">Best sellers in next-gen electronics</p>
        </div>
        <div class="product-grid" id="product-container">
            <!-- Products will be injected by JS -->
        </div>
    </section>

    <!-- Cart Modal -->
    <div class="modal-overlay" id="cart-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Your Shopping Cart</h2>
                <button class="close-btn" onclick="closeModal('cart')">&times;</button>
            </div>
            <div class="modal-items" id="cart-items">
                <!-- Cart items here -->
            </div>
            <div class="modal-footer">
                <div id="cart-summary">
                    <!-- Summary populated by JS -->
                </div>
                <button class="checkout-btn" onclick="checkout()">Checkout Now</button>
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div class="modal-overlay" id="wishlist-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>My Wishlist</h2>
                <button class="close-btn" onclick="closeModal('wishlist')">&times;</button>
            </div>
            <div class="modal-items" id="wishlist-items">
                <!-- Wishlist items here -->
            </div>
        </div>
    </div>

    <!-- Orders Modal -->
    <div class="modal-overlay" id="orders-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Order History</h2>
                <button class="close-btn" onclick="closeModal('orders')">&times;</button>
            </div>
            <div class="modal-items" id="order-history">
                <!-- Orders items here -->
            </div>
        </div>
    </div>

    <!-- Product Info Modal -->
    <div class="modal-overlay" id="info-modal">
        <div class="modal-content wide">
            <div class="modal-header">
                <h2 id="info-title">Product Details</h2>
                <button class="close-btn" onclick="closeModal('info')">&times;</button>
            </div>
            <div class="modal-items" id="info-container" style="padding: 1rem;">
                <!-- Product info here -->
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal-overlay" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="login-modal-title">Member Login</h2>
                <button class="close-btn" onclick="closeModal('login')">&times;</button>
            </div>
            <div class="modal-items" id="login-container">
                <!-- Dynamic Login Steps filled by JS -->
            </div>
        </div>
    </div>

    <!-- Order Confirmation Popup -->
    <div class="modal-overlay" id="confirm-modal"
        style="justify-content: center; align-items: flex-start; padding-top: 50px;">
        <div class="modal-content"
            style="height: auto; width: 400px; border-radius: 15px; animation: slideDown 0.4s ease; text-align: center; padding: 2rem;">
            <div style="font-size: 2.5rem; color: var(--primary); margin-bottom: 1rem;">
                <i class="fas fa-question-circle"></i>
            </div>
            <h3 style="margin-bottom: 1rem; color: var(--secondary);">Confirm Order</h3>
            <p style="color: var(--text-light); margin-bottom: 2rem; font-size: 1.1rem;">Are you sure want to order
                these items?</p>
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <button class="checkout-btn" style="background: #25D366; color: white;"
                    onclick="confirmOrder('whatsapp')">
                    <i class="fab fa-whatsapp"></i> Order via WhatsApp
                </button>
                <button class="checkout-btn" style="background: var(--primary); color: white;"
                    onclick="confirmOrder('email')">
                    <i class="fas fa-envelope"></i> Order via Email
                </button>
                <button class="checkout-btn"
                    style="background: transparent; color: var(--text-light); border: 1px solid #e2e8f0;"
                    onclick="closeModal('confirm')">Cancel</button>
            </div>

            <!-- Feedback Modal -->
            <div class="modal-overlay" id="feedback-modal">
                <div class="modal-content" style="max-width: 450px; text-align: center;">
                    <div class="modal-header">
                        <h2>Share Your Experience</h2>
                        <button class="close-btn" onclick="closeModal('feedback')">&times;</button>
                    </div>
                    <div class="feedback-content">
                        <div style="font-size: 3rem; color: #22c55e; margin-bottom: 1rem;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>Order Placed Successfully!</h3>
                        <p style="color: var(--text-light); margin-top: 0.5rem;">How would you rate SPEK website?</p>

                        <div class="feedback-stars" id="feedback-stars">
                            <i class="fas fa-star" data-value="1" onclick="setFeedbackRating(1)"></i>
                            <i class="fas fa-star" data-value="2" onclick="setFeedbackRating(2)"></i>
                            <i class="fas fa-star" data-value="3" onclick="setFeedbackRating(3)"></i>
                            <i class="fas fa-star" data-value="4" onclick="setFeedbackRating(4)"></i>
                            <i class="fas fa-star" data-value="5" onclick="setFeedbackRating(5)"></i>
                        </div>

                        <div id="feedback-msg"
                            style="display: none; background: #f0fdf4; padding: 1rem; border-radius: 12px; margin-top: 1rem;">
                            <p style="color: #166534; font-weight: 600;">Thank you for your feedback!</p>
                            <p style="font-size: 0.85rem; color: #15803d; margin-top: 5px;">We appreciate your visit.
                                Come back soon for more online shopping at SPEK!</p>
                        </div>

                        <button class="checkout-btn" style="margin-top: 2rem; width: 100%;"
                            onclick="closeModal('feedback')">Visit More Products</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About Us Modal -->
    <div class="modal-overlay" id="about-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>About SPEK</h2>
                <button class="close-btn" onclick="closeModal('about')">&times;</button>
            </div>
            <div class="modal-items" style="padding-right: 10px;">
                <div class="animate-modal-item"
                    style="margin-bottom: 2rem; border-left: 4px solid var(--primary); padding-left: 1.5rem;">
                    <h3
                        style="color: var(--primary); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        About Us</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary);">
                        SPEK is a premier electronics provider dedicated to bringing high-quality products to the
                        market. We specialize in quality and quantity, ensuring our customers get the best value at a
                        friendly budget.
                    </p>
                </div>

                <div class="animate-modal-item"
                    style="margin-bottom: 2rem; border-left: 4px solid var(--accent); padding-left: 1.5rem;">
                    <h3
                        style="color: var(--accent); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        Company Holders</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary);">
                        SPEK is led by a visionary team of experts:
                        <br>• Samuel
                        <br>• Prasad
                        <br>• Eswar
                        <br>• Kalyan
                    </p>
                </div>

                <div class="animate-modal-item"
                    style="margin-bottom: 2rem; border-left: 4px solid var(--accent); padding-left: 1.5rem;">
                    <h3
                        style="color: var(--accent); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        Why Choose Us</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary); margin-bottom: 1rem;">
                        Backed by years of expertise, we provide reliable electronic solutions with trusted quality and
                        dependable customer support.
                    </p>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary);">
                        We understand modern tech needs and deliver safe, high-quality electronics with long-term
                        service excellence.
                    </p>
                </div>

                <div class="animate-modal-item"
                    style="margin-bottom: 2rem; border-left: 4px solid var(--primary); padding-left: 1.5rem;">
                    <h3
                        style="color: var(--primary); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        Mission</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary);">
                        To provide high-quality electronic products at an affordable cost while ensuring prompt service
                        and innovative solutions for the electronic community.
                    </p>
                </div>

                <div class="animate-modal-item" style="border-left: 4px solid var(--accent); padding-left: 1.5rem;">
                    <h3
                        style="color: var(--accent); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        Vision</h3>
                    <p style="font-size: 1.1rem; line-height: 1.8; color: var(--secondary);">
                        To be a recognized leader in electronics retail, known for integrity, quality assurance, and
                        dependable technical support.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Modal -->
    <div class="modal-overlay" id="support-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Customer Support</h2>
                <button class="close-btn" onclick="closeModal('support')">&times;</button>
            </div>
            <div class="modal-items" style="padding-right: 10px;">
                <div
                    style="margin-bottom: 2rem; border-left: 4px solid var(--primary); padding-left: 1.5rem; background: rgba(0, 168, 168, 0.05); padding-top: 1rem; padding-bottom: 1rem; border-radius: 0 10px 10px 0;">
                    <h3
                        style="color: var(--primary); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 1px;">
                        Live Chat & Virtual Assistant</h3>
                    <p style="font-size: 1.1rem; line-height: 1.6; color: var(--secondary); margin-bottom: 1rem;">
                        Visit our website to chat instantly with a support representative.
                    </p>
                    <div
                        style="background: white; padding: 10px; border-radius: 8px; border: 1px dashed var(--primary); display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-clock" style="color: var(--primary);"></i>
                        <span style="font-weight: 600; font-size: 0.9rem; color: var(--secondary);">
                            Availability: 24/7 Live Agent Support for troubleshooting and order tracking.
                        </span>
                    </div>
                </div>
                <button class="checkout-btn" onclick="window.location.href='https://wa.me/919182764299'">Start Live Chat
                    Now</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">Item added to cart!</div>

    <footer style="padding: 2.5rem 0 0; background: var(--secondary); color: white;">
        <div class="footer-grid"
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; padding: 0 5%; margin-bottom: 2rem;">
            <div class="footer-col">
                <a href="#" class="logo" style="margin-bottom: 1rem;">
                    <img src="spek_logo.png" alt="SPEK Logo" style="height: 50px;">
                    <span class="brand-wilson" style="color: white; font-size: 1.4rem;">SPEK</span>
                </a>
                <p style="font-size: 0.9rem; color: rgba(255,255,255,0.7);">High-quality electronics with a focus on
                    quality, quantity, and friendly budgets.</p>
            </div>
            <div class="footer-col">
                <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary);">Quick Links</h3>
                <ul class="footer-links" style="list-style: none;">
                    <li style="margin-bottom: 8px;"><a href="javascript:void(0)" onclick="openModal('about')"
                            style="color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.9rem;">About Us</a>
                    </li>
                    <li style="margin-bottom: 8px;"><a href="#"
                            style="color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.9rem;">Electronics</a>
                    </li>
                    <li style="margin-bottom: 8px;"><a href="javascript:void(0)" onclick="openModal('support')"
                            style="color: rgba(255,255,255,0.7); text-decoration: none; font-size: 0.9rem;">Contact
                            Support</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary);">Contact</h3>
                <ul class="footer-links" style="list-style: none; display: flex; flex-direction: column; gap: 8px;">
                    <li
                        style="font-size: 0.9rem; color: rgba(255,255,255,0.7); display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-phone" style="color: var(--primary); font-size: 0.8rem;"></i> 9*8*76**99
                    </li>
                    <li
                        style="font-size: 0.9rem; color: rgba(255,255,255,0.7); display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-envelope" style="color: var(--primary); font-size: 0.8rem;"></i>
                        <a href="mailto:samuelpauljalli@gmail.com"
                            style="color: inherit; text-decoration: none;">speknextgen@gmail.com</a>
                    </li>
                </ul>
            </div>
            <div class="footer-col">
                <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary);">Follow Us</h3>
                <div style="display: flex; gap: 10px;">
                    <a href="https://wa.me/919182764299" target="_blank"
                        style="width: 35px; height: 35px; border: 2px solid #25D366; color: #25D366; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: var(--transition); font-size: 1rem;">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://www.instagram.com/spek_official__/?__pwa=1#" target="_blank"
                        style="width: 35px; height: 35px; border: 2px solid #E1306C; color: #E1306C; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: var(--transition); font-size: 1rem;">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
                <p style="font-size: 0.8rem; margin-top: 5px; color: rgba(255,255,255,0.5);">@spek_official__</p>
            </div>
        </div>
        <div class="footer-bottom"
            style="text-align: center; padding: 1rem; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.8rem; color: rgba(255,255,255,0.5);">
            &copy; 2026 SPEK Electronics. All Rights Reserved.
        </div>
    </footer>

    <script>
        const products = [
            // PHONES (1-10)
            {
                id: 1, gst: 18, name: "iPhone 15 Pro Max", category: "Phones", price: 144900, oldPrice: 159900, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1696446701796-da61225697cc?auto=format&fit=crop&q=80&w=800",
                tag: "Premium", desc: "A17 Pro chip, Titanium design, and the best camera system on iPhone.", usage: "Photography, gaming, and elite performance.",
                rating: 4.9, warranty: "1 Year Apple Warranty",
                specs: { Color: "Natural Titanium", Storage: "256GB", Display: "6.7-inch Super Retina" },
                images: [
                    "https://images.unsplash.com/photo-1696446701796-da61225697cc?auto=format&fit=crop&q=80&w=800",
                    "https://images.unsplash.com/photo-1695048133142-13c8ed45e43c?auto=format&fit=crop&q=80&w=800",
                    "https://images.unsplash.com/photo-1695048133379-8809a39ca250?auto=format&fit=crop&q=80&w=800"
                ]
            },
            {
                id: 2, gst: 18, name: "Samsung Galaxy S24 Ultra", category: "Phones", price: 129999, oldPrice: 139999, discount: "7% OFF",
                image: "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?auto=format&fit=crop&q=80&w=800",
                tag: "Best Display", desc: "Integrated S-Pen, 200MP camera, and Galaxy AI features.", usage: "Productivity, note-taking, and mobile photography.",
                rating: 4.8, warranty: "1 Year Samsung Warranty",
                specs: { Color: "Titanium Gray", Storage: "512GB", Display: "6.8-inch Dynamic AMOLED" },
                images: [
                    "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?auto=format&fit=crop&q=80&w=800",
                    "https://images.unsplash.com/photo-1706606995642-990529e7c536?auto=format&fit=crop&q=80&w=800"
                ]
            },
            {
                id: 3, gst: 18, name: "Google Pixel 8 Pro", category: "Phones", price: 99999, oldPrice: 106999, discount: "6% OFF",
                image: "https://images.unsplash.com/photo-1598327105666-31a89645903b?auto=format&fit=crop&q=80&w=800",
                tag: "Best Camera", desc: "The most advanced AI-powered camera on a phone. Clean Android experience.", usage: "AI features and computational photography.",
                rating: 4.7, warranty: "1 Year Google Warranty",
                specs: { Color: "Bay Blue", Storage: "128GB", Display: "6.7-inch Super Actua" },
                images: [
                    "https://images.unsplash.com/photo-1598327105666-31a89645903b?auto=format&fit=crop&q=80&w=800",
                    "https://images.unsplash.com/photo-1696423563963-3dc4504d602a?auto=format&fit=crop&q=80&w=800"
                ]
            },
            {
                id: 11, gst: 18, name: "MacBook Pro M3 Max", category: "Laptops", price: 349900, oldPrice: 399900, discount: "12% OFF",
                image: "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&q=80&w=800",
                tag: "Workstation", desc: "The world's most advanced laptop chip. Liquid Retina XDR display.", usage: "Video editing, 3D rendering, and coding.",
                rating: 5.0, warranty: "1 Year Apple Limited Warranty",
                specs: { Color: "Space Black", RAM: "36GB", SSD: "1TB" },
                images: [
                    "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&q=80&w=800",
                    "https://images.unsplash.com/photo-1525547710243-7f7223691656?auto=format&fit=crop&q=80&w=800"
                ]
            },
            {
                id: 12, gst: 18, name: "Dell XPS 13 Plus", category: "Laptops", price: 159990, oldPrice: 175000, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1593642632823-8f785ba67e45?auto=format&fit=crop&q=80&w=800",
                tag: "Ultra-Portable", desc: "Stunning infinity-edge display and futuristic capacitive touch bar.", usage: "Business travel and clean aesthetics."
            },
            {
                id: 13, gst: 18, name: "Razer Blade 16", category: "Laptops", price: 289999, oldPrice: 320000, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?auto=format&fit=crop&q=80&w=800",
                tag: "Gaming King", desc: "RTX 4090 performance in a sleek aluminum unibody.", usage: "Competitive gaming and VR."
            },
            {
                id: 14, gst: 18, name: "HP Spectre x360", category: "Laptops", price: 134999, oldPrice: 149999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1544244015-0cd4b3ff2552?auto=format&fit=crop&q=80&w=800",
                tag: "2-in-1", desc: "Versatile foldable design with OLED touchscreen and pen support.", usage: "Creative sketching and executive meetings."
            },
            {
                id: 15, gst: 18, name: "Lenovo ThinkPad X1 Carbon", category: "Laptops", price: 169999, oldPrice: 189999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1588872657578-7efd1f1516ee?auto=format&fit=crop&q=80&w=800",
                tag: "Business Pro", desc: "The legendary durable laptop. Carbon fiber construction.", usage: "Corporate work and extreme durability."
            },
            {
                id: 16, gst: 18, name: "ASUS Zenbook Duo", category: "Laptops", price: 199999, oldPrice: 220000, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1591799272365-98314e304910?auto=format&fit=crop&q=80&w=800",
                tag: "Dual Screen", desc: "Revolutionary dual 14-inch OLED screens for massive workspace.", usage: "Multi-tasking and music production."
            },
            {
                id: 17, gst: 18, name: "Microsoft Surface Laptop 5", category: "Laptops", price: 104999, oldPrice: 115000, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&q=80&w=800",
                tag: "Stylish", desc: "Premium build, Alcantara fabric, and the best Windows touch experience.", usage: "Students and office professionals."
            },
            {
                id: 18, gst: 18, name: "Acer Predator Helios 18", category: "Laptops", price: 179999, oldPrice: 199999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1531297484001-80022131f5a1?auto=format&fit=crop&q=80&w=800",
                tag: "Massive Screen", desc: "Giant 18-inch display with mini-LED tech for immersive gaming.", usage: "Desktop replacement and AAA gaming."
            },
            {
                id: 19, gst: 18, name: "Samsung Galaxy Book 4 Ultra", category: "Laptops", price: 219999, oldPrice: 239999, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1611186871348-b1ec696e523f?auto=format&fit=crop&q=80&w=800",
                tag: "Eco-System", desc: "Syncs perfectly with your Galaxy phone. AMOLED 2X display.", usage: "Galaxy users and content creators."
            },
            {
                id: 20, gst: 18, name: "LG Gram 17", category: "Laptops", price: 124999, oldPrice: 139999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?auto=format&fit=crop&q=80&w=800",
                tag: "Feather Light", desc: "Large 17-inch screen in a body that weighs almost nothing.", usage: "Travel and spreadsheets."
            },

            // AUDIO (21-30)
            {
                id: 21, gst: 18, name: "Sony WH-1000XM5", category: "Audio", price: 29990, oldPrice: 34990, discount: "14% OFF",
                image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=800",
                tag: "Best ANC", desc: "Industry-leading noise cancellation and crystal clear calls.", usage: "Frequent flyers and focus."
            },
            {
                id: 22, gst: 18, name: "AirPods Max", category: "Audio", price: 54900, oldPrice: 59900, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1613040809024-b4ef7ba99bc3?auto=format&fit=crop&q=80&w=800",
                tag: "Fashionable", desc: "Computational audio, adaptive EQ, and spatial audio with dynamic head tracking.", usage: "Apple enthusiasts and high-fidelity audio."
            },
            {
                id: 23, gst: 18, name: "Bose QuietComfort Ultra", category: "Audio", price: 35900, oldPrice: 39900, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1484704849700-f032a568e944?auto=format&fit=crop&q=80&w=800",
                tag: "Comfort King", desc: "Unmatched comfort for long listening sessions with world-class ANC.", usage: "Daily commute and comfort lovers."
            },
            {
                id: 24, gst: 18, name: "Sennheiser Momentum 4", category: "Audio", price: 24990, oldPrice: 29990, discount: "16% OFF",
                image: "https://images.unsplash.com/photo-1546435770-a3e426bf472b?auto=format&fit=crop&q=80&w=800",
                tag: "60Hr Battery", desc: "Incredible 60-hour battery life and superior sound signature.", usage: "Long distance travel."
            },
            {
                id: 25, gst: 18, name: "JBL Boombox 3", category: "Audio", price: 34999, oldPrice: 39999, discount: "12% OFF",
                image: "https://images.unsplash.com/photo-1608156639585-b3a032ef9689?auto=format&fit=crop&q=80&w=800",
                tag: "Party Monster", desc: "Massive sound and deepest bass. IP67 waterproof and dustproof.", usage: "Outdoor parties and pool days."
            },
            {
                id: 26, gst: 18, name: "Marshall Emberton II", category: "Audio", price: 14999, oldPrice: 17999, discount: "16% OFF",
                image: "https://images.unsplash.com/photo-1593062096033-9a26b09da705?auto=format&fit=crop&q=80&w=800",
                tag: "Retro Design", desc: "Iconic design with 30+ hours of portable playtime and rich audio.", usage: "Travel and aesthetics."
            },
            {
                id: 27, gst: 18, name: "Sonos Era 300", category: "Audio", price: 49999, oldPrice: 54999, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1545454675-3531b543be5d?auto=format&fit=crop&q=80&w=800",
                tag: "Spatial Audio", desc: "Revolutionary speaker designed for spatial audio and Dolby Atmos.", usage: "Home theater and smart home."
            },
            {
                id: 28, gst: 18, name: "AirPods Pro Gen 2", category: "Audio", price: 23900, oldPrice: 26900, discount: "11% OFF",
                image: "https://images.unsplash.com/photo-1588423770574-d4993e3b8b7d?auto=format&fit=crop&q=80&w=800",
                tag: "Best Earbuds", desc: "Up to 2x more Active Noise Cancellation and personalized spatial audio.", usage: "Gym and daily calls."
            },
            {
                id: 29, gst: 18, name: "Beats Studio Pro", category: "Audio", price: 27999, oldPrice: 32999, discount: "15% OFF",
                image: "https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?auto=format&fit=crop&q=80&w=800",
                tag: "Studio Sound", desc: "Fully custom acoustic platform with active noise cancelling.", usage: "Bass lovers and street style."
            },
            {
                id: 30, gst: 18, name: "Galaxy Buds 3 Pro", category: "Audio", price: 19999, oldPrice: 22999, discount: "13% OFF",
                image: "https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&q=80&w=800",
                tag: "Galaxy Wear", desc: "Immersive sound with 2-way speakers and 360 audio.", usage: "Android users and runners."
            },

            // GAMING (31-40)
            {
                id: 31, gst: 18, name: "PlayStation 5 Slim", category: "Gaming", price: 44990, oldPrice: 54990, discount: "18% OFF",
                image: "https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?auto=format&fit=crop&q=80&w=800",
                tag: "4K Gaming", desc: "Play the biggest games with breathtaking realism and speed.", usage: "Exclusive titles and VR gaming."
            },
            {
                id: 32, gst: 18, name: "Xbox Series X", category: "Gaming", price: 49990, oldPrice: 55990, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1605906302474-d60faae82b32?auto=format&fit=crop&q=80&w=800",
                tag: "Powerhouse", desc: "The fastest, most powerful Xbox ever. Native 4K gaming.", usage: "Game Pass and high-fidelity gaming."
            },
            {
                id: 33, gst: 18, name: "Nintendo Switch OLED", category: "Gaming", price: 31999, oldPrice: 34999, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?auto=format&fit=crop&q=80&w=800",
                tag: "Portable", desc: "Vibrant 7-inch OLED screen, wide adjustable stand, and wired LAN port.", usage: "Family gaming and travel."
            },
            {
                id: 34, gst: 18, name: "Steam Deck 512GB", category: "Gaming", price: 54999, oldPrice: 59999, discount: "8% OFF",
                image: "https://images.unsplash.com/photo-1635514562733-24763bb5db71?auto=format&fit=crop&q=80&w=800",
                tag: "Handheld PC", desc: "Your entire Steam library in your hands. Powerful APU for mobile gaming.", usage: "PC gaming on the go."
            },
            {
                id: 35, gst: 18, name: "Razer DeathAdder V3 Pro", category: "Gaming", price: 14999, oldPrice: 16999, discount: "11% OFF",
                image: "https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?auto=format&fit=crop&q=80&w=800",
                tag: "Ultra-Light", desc: "Professional wireless gaming mouse with 30K optical sensor.", usage: "E-sports and competitive FPS."
            },
            {
                id: 36, gst: 18, name: "Corsair K70 RGB MK.2", category: "Gaming", price: 12999, oldPrice: 14999, discount: "13% OFF",
                image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800",
                tag: "Mechanical", desc: "Cherry MX speed switches with per-key RGB lighting and volume scroll.", usage: "Gaming setups and fast typing."
            },
            {
                id: 37, gst: 18, name: "Samsung Odyssey G9", category: "Gaming", price: 129999, oldPrice: 149999, discount: "13% OFF",
                image: "https://images.unsplash.com/photo-1547119957-637f8679db1e?auto=format&fit=crop&q=80&w=800",
                tag: "Curved", desc: "49-inch curved gaming monitor with 240Hz refresh rate and OLED panel.", usage: "Sim racing and immersive gaming."
            },
            {
                id: 38, gst: 18, name: "SteelSeries Arctis Nova Pro", category: "Gaming", price: 34999, oldPrice: 39999, discount: "12% OFF",
                image: "https://images.unsplash.com/photo-1558255083-1e5f02823447?auto=format&fit=crop&q=80&w=800",
                tag: "Audiophile", desc: "Hi-Res game audio and dual-wireless connectivity for ultimate gaming.", usage: "Cross-platform gaming (PC/Console)."
            },
            {
                id: 39, gst: 18, name: "Logitech G Pro X Superlight", category: "Gaming", price: 11999, oldPrice: 13999, discount: "14% OFF",
                image: "https://images.unsplash.com/photo-1615663245857-ac93bb7c39e7?auto=format&fit=crop&q=80&w=800",
                tag: "Pro Favorite", desc: "Extremely lightweight wireless mouse with Hero 25K sensor.", usage: "Tournament play."
            },
            {
                id: 40, gst: 18, name: "DXRacer Master Series", category: "Gaming", price: 34999, oldPrice: 39999, discount: "12% OFF",
                image: "https://images.unsplash.com/photo-1598550476439-6847785fce66?auto=format&fit=crop&q=80&w=800",
                tag: "Ergonomic", desc: "Premium modular gaming chair with adjustable lumbar support.", usage: "Office work and long gaming sessions."
            },

            // GADGETS (41-50)
            {
                id: 41, gst: 18, name: "Apple Watch Ultra 2", category: "Gadgets", price: 89900, oldPrice: 94900, discount: "5% OFF",
                image: "https://images.unsplash.com/photo-1434493907317-a46b53b81846?auto=format&fit=crop&q=80&w=800",
                tag: "Rugged", desc: "The ultimate sports watch. Titanium case and up to 36 hours of battery.", usage: "Diving, hiking, and fitness."
            },
            {
                id: 42, gst: 18, name: "DJI Mini 4 Pro", category: "Gadgets", price: 94999, oldPrice: 105000, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1473968512647-3e44a224fe8f?auto=format&fit=crop&q=80&w=800",
                tag: "Drone", desc: "Under 249g. 4K/60fps HDR True Vertical Shooting.", usage: "Aerial photography and travel."
            },
            {
                id: 43, gst: 18, name: "GoPro HERO12 Black", category: "Gadgets", price: 44999, oldPrice: 49999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1542157585-ef20bacca039?auto=format&fit=crop&q=80&w=800",
                tag: "Action Cam", desc: "5.3K video, HyperSmooth 6.0, and waterproof up to 33 feet.", usage: "Extreme sports and travel vlogging."
            },
            {
                id: 44, gst: 18, name: "Kindle Paperwhite (16GB)", category: "Gadgets", price: 14999, oldPrice: 16999, discount: "11% OFF",
                image: "https://images.unsplash.com/photo-1592434134753-a70baf7979d7?auto=format&fit=crop&q=80&w=800",
                tag: "Reader", desc: "6.8-inch display, adjustable warm light, and weeks of battery life.", usage: "Reading and travel."
            },
            {
                id: 45, gst: 18, name: "Meta Quest 3", category: "Gadgets", price: 49999, oldPrice: 54999, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?auto=format&fit=crop&q=80&w=800",
                tag: "Virtual Reality", desc: "Breakthrough mixed reality. 4K+ Infinite Display.", usage: "VR gaming and 3D experiences."
            },
            {
                id: 46, gst: 18, name: "Fujifilm Instax Mini 12", category: "Gadgets", price: 6999, oldPrice: 8999, discount: "22% OFF",
                image: "https://images.unsplash.com/photo-1526170315870-ef6d82f5822c?auto=format&fit=crop&q=80&w=800",
                tag: "Instant Camera", desc: "Simple controls, built-in selfie mirror, and instant film prints.", usage: "Parties and travel memories."
            },
            {
                id: 47, gst: 18, name: "Dyson V15 Detect", category: "Gadgets", price: 65900, oldPrice: 72900, discount: "9% OFF",
                image: "https://images.unsplash.com/photo-1558317374-067fb5f30001?auto=format&fit=crop&q=80&w=800",
                tag: "Smart Home", desc: "Cordless vacuum with laser illumination to reveal microscopic dust.", usage: "Home cleaning pro."
            },
            {
                id: 48, gst: 18, name: "Apple AirTag (4 Pack)", category: "Gadgets", price: 9999, oldPrice: 11999, discount: "16% OFF",
                image: "https://images.unsplash.com/photo-1620783770629-122b7f187703?auto=format&fit=crop&q=80&w=800",
                tag: "Tracker", desc: "Keep track of and find your items with Precision Finding.", usage: "Keys, wallets, and bags."
            },
            {
                id: 49, gst: 18, name: "Ring Video Doorbell Plus", category: "Gadgets", price: 17999, oldPrice: 19999, discount: "10% OFF",
                image: "https://images.unsplash.com/photo-1558002038-1055907df8d7?auto=format&fit=crop&q=80&w=800",
                tag: "Security", desc: "Head-to-Toe View in 1536p HD. Motion-activated notifications.", usage: "Home security and monitoring."
            },
            {
                id: 50, gst: 18, name: "Anker 737 Power Bank", category: "Gadgets", price: 12999, oldPrice: 15999, discount: "18% OFF",
                image: "https://images.unsplash.com/photo-1619133400508-348238127263?auto=format&fit=crop&q=80&w=800",
                tag: "Power", desc: "24,000mAh battery with ultra-fast 140W charging output.", usage: "Charging laptops and phones on the move."
            },

            // MORE PHONES (51-65)
            { id: 51, gst: 18, name: "iPhone 14", category: "Phones", price: 69900, oldPrice: 79900, discount: "12% OFF", image: "https://images.unsplash.com/photo-1663499110757-19fd910065be?auto=format&fit=crop&q=80&w=800", tag: "Value", desc: "Super Retina XDR display and advanced dual-camera system.", usage: "Reliable daily driver." },
            { id: 52, gst: 18, name: "Samsung Galaxy A54", category: "Phones", price: 35999, oldPrice: 41999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1610945415295-d9716f1ad92c?auto=format&fit=crop&q=80&w=800", tag: "Mid-range", desc: "Awesome 5G speed and IP67 water resistance.", usage: "Best for students." },
            { id: 53, gst: 18, name: "Google Pixel 7a", category: "Phones", price: 39999, oldPrice: 43999, discount: "9% OFF", image: "https://images.unsplash.com/photo-1596558450255-7c0b7be9d56a?auto=format&fit=crop&q=80&w=800", tag: "Great Value", desc: "The helpful phone at a helpful price. Fast and secure.", usage: "Best price-to-performance camera." },
            { id: 54, gst: 18, name: "Sony Xperia 5 V", category: "Phones", price: 84999, oldPrice: 89999, discount: "5% OFF", image: "https://images.unsplash.com/photo-1580910051074-3eb6948865c5?auto=format&fit=crop&q=80&w=800", tag: "Compact", desc: "Premium features in a hand-friendly size.", usage: "Media creators." },
            { id: 55, gst: 18, name: "Nothing Phone (1)", category: "Phones", price: 29999, oldPrice: 35999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1663248358485-6110f0322283?auto=format&fit=crop&q=80&w=800", tag: "Stylish", desc: "The bold design that started it all.", usage: "Unique tech lovers." },
            { id: 56, gst: 18, name: "Motorola Edge 40", category: "Phones", price: 26999, oldPrice: 34999, discount: "22% OFF", image: "https://images.unsplash.com/photo-1512499617640-c74ae3a79d37?auto=format&fit=crop&q=80&w=800", tag: "Slim", desc: "World's slimmest 5G phone with IP68 rating.", usage: "Fashion and function." },
            { id: 57, gst: 18, name: "Xiaomi 13 Pro", category: "Phones", price: 74999, oldPrice: 89999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1556656793-062ff98782ee?auto=format&fit=crop&q=80&w=800", tag: "Pro Camera", desc: "Engineered with Leica for professional optical quality.", usage: "Portrait photography." },
            { id: 58, gst: 18, name: "Realme GT 5", category: "Phones", price: 32999, oldPrice: 39999, discount: "17% OFF", image: "https://images.unsplash.com/photo-1616348436168-de43ad0db179?auto=format&fit=crop&q=80&w=800", tag: "Speed", desc: "Ultra-fast charging and top-tier processor.", usage: "Hardcore gaming." },
            { id: 59, gst: 18, name: "Vivo X100 Pro", category: "Phones", price: 89999, oldPrice: 96999, discount: "7% OFF", image: "https://images.unsplash.com/photo-1544244015-0cd4b3ff2552?auto=format&fit=crop&q=80&w=800", tag: "Zeiss Optics", desc: "Photography redefined with Zeiss optics.", usage: "Low light photography." },
            { id: 60, gst: 18, name: "Oppo Find N3 Flip", category: "Phones", price: 94999, oldPrice: 99999, discount: "5% OFF", image: "https://images.unsplash.com/photo-1592890288564-76628a30a657?auto=format&fit=crop&q=80&w=800", tag: "Flip", desc: "The premium flip phone with a versitile triple camera.", usage: "Vlogging." },
            { id: 61, gst: 18, name: "iPhone SE (2022)", category: "Phones", price: 43900, oldPrice: 49900, discount: "12% OFF", image: "https://images.unsplash.com/photo-1663499245350-f8d9f10065be?auto=format&fit=crop&q=80&w=800", tag: "Classic", desc: "A15 Bionic chip in the beloved 4.7-inch design.", usage: "Classic lovers." },
            { id: 62, gst: 18, name: "Nokia G42 5G", category: "Phones", price: 12499, oldPrice: 15999, discount: "21% OFF", image: "https://images.unsplash.com/photo-1523206489230-c012c64b2b48?auto=format&fit=crop&q=80&w=800", tag: "Repairable", desc: "The first repairable 5G phone from Nokia.", usage: "Sustainability." },
            { id: 63, gst: 18, name: "POCO F5", category: "Phones", price: 29999, oldPrice: 34999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1565849906461-0e4435b77cbd?auto=format&fit=crop&q=80&w=800", tag: "Performance", desc: "The performance king. Fastest in its class.", usage: "Gaming performance." },
            { id: 64, gst: 18, name: "Honor 90", category: "Phones", price: 31999, oldPrice: 37999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1605236453806-6ff36851218e?auto=format&fit=crop&q=80&w=800", tag: "Display", desc: "200MP camera and a stunning quad-curved display.", usage: "Stunning visuals." },
            { id: 65, gst: 18, name: "iPhone 13 Mini", category: "Phones", price: 59900, oldPrice: 64900, discount: "7% OFF", image: "https://images.unsplash.com/photo-1634403665481-74948d815f03?auto=format&fit=crop&q=80&w=800", tag: "Mini", desc: "Big performance in a small form factor.", usage: "Small hands comfort." },

            // MORE LAPTOPS (66-80)
            { id: 66, gst: 18, name: "MacBook Air M2", category: "Laptops", price: 99900, oldPrice: 114900, discount: "13% OFF", image: "https://images.unsplash.com/photo-1611186871348-b1ec696e523f?auto=format&fit=crop&q=80&w=800", tag: "Air", desc: "Redesigned with the M2 chip. Thin and silent.", usage: "Student work." },
            { id: 67, gst: 18, name: "HP Victus 15", category: "Laptops", price: 64999, oldPrice: 75999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1588872657578-7efd1f1516ee?auto=format&fit=crop&q=80&w=800", tag: "Value Gaming", desc: "Pure gaming performance at an accessible price.", usage: "Intermediate gaming." },
            { id: 68, gst: 18, name: "Dell Inspiron 14", category: "Laptops", price: 54999, oldPrice: 62999, discount: "12% OFF", image: "https://images.unsplash.com/photo-1593642532400-2682810df593?auto=format&fit=crop&q=80&w=800", tag: "Everyday", desc: "Reliable performance for your daily tasks.", usage: "Office work." },
            { id: 69, gst: 18, name: "Acer Swift Go 14", category: "Laptops", price: 79999, oldPrice: 89999, discount: "11% OFF", image: "https://images.unsplash.com/photo-1603302576837-37561b2e2302?auto=format&fit=crop&q=80&w=800", tag: "OLED", desc: "Thin, light, and a stunning OLED display.", usage: "Mobile entertainment." },
            { id: 70, gst: 18, name: "ASUS ROG Zephyrus G14", category: "Laptops", price: 149999, oldPrice: 175000, discount: "14% OFF", image: "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?auto=format&fit=crop&q=80&w=800", tag: "Compact Power", desc: "The world's most powerful 14-inch gaming laptop.", usage: "High-end gaming on the go." },
            { id: 71, gst: 18, name: "Microsoft Surface Pro 9", category: "Laptops", price: 115999, oldPrice: 129000, discount: "10% OFF", image: "https://images.unsplash.com/photo-1512499617640-c74ae3a79d37?auto=format&fit=crop&q=80&w=800", tag: "Tablet PC", desc: "The versatility of a tablet and the power of a laptop.", usage: "Artists and executives." },
            { id: 72, gst: 18, name: "Lenovo Yoga 7i", category: "Laptops", price: 89999, oldPrice: 99999, discount: "10% OFF", image: "https://images.unsplash.com/photo-1544244015-0cd4b3ff2552?auto=format&fit=crop&q=80&w=800", tag: "Creative", desc: "Elegant 2-in-1 with Intel Evo performance.", usage: "Design and sketching." },
            { id: 73, gst: 18, name: "Alienware m18", category: "Laptops", price: 349999, oldPrice: 399999, discount: "12% OFF", image: "https://images.unsplash.com/photo-1531297484001-80022131f5a1?auto=format&fit=crop&q=80&w=800", tag: "Alien power", desc: "Unleash peak performance with an 18-inch display.", usage: "Hardcore gaming." },
            { id: 74, gst: 18, name: "Samsung Galaxy Book 3 Pro", category: "Laptops", price: 129999, oldPrice: 149999, discount: "13% OFF", image: "https://images.unsplash.com/photo-1611186871348-b1ec696e523f?auto=format&fit=crop&q=80&w=800", tag: "Pro Slim", desc: "Ultra-thin, ultra-powerful, and ultra-connected.", usage: "Professional multi-tasking." },
            { id: 75, gst: 18, name: "ASUS Vivobook 16X", category: "Laptops", price: 59999, oldPrice: 69999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&q=80&w=800", tag: "Big Screen", desc: "16-inch display for your big ideas.", usage: "Creators and coders." },
            { id: 76, gst: 18, name: "HP Pavilion Plus 14", category: "Laptops", price: 74999, oldPrice: 84999, discount: "11% OFF", image: "https://images.unsplash.com/photo-1544731612-de7f96afe55f?auto=format&fit=crop&q=80&w=800", tag: "Well Rounded", desc: "Premium features at a great price.", usage: "Office workers." },
            { id: 77, gst: 18, name: "Acer Nitro 5", category: "Laptops", price: 69999, oldPrice: 79999, discount: "12% OFF", image: "https://images.unsplash.com/photo-1593642632823-8f785ba67e45?auto=format&fit=crop&q=80&w=800", tag: "Gaming Budget", desc: "Go full throttle with the Acer Nitro 5.", usage: "Casual gaming." },
            { id: 78, gst: 18, name: "Razer Blade Stealth 13", category: "Laptops", price: 169999, oldPrice: 189999, discount: "10% OFF", image: "https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?auto=format&fit=crop&q=80&w=800", tag: "Stealth", desc: "The world's first gaming ultrabook.", usage: "Pro travel gaming." },
            { id: 79, gst: 18, name: "Fujitsu UH-X", category: "Laptops", price: 94999, oldPrice: 105000, discount: "9% OFF", image: "https://images.unsplash.com/photo-1611186871348-b1ec696e523f?auto=format&fit=crop&q=80&w=800", tag: "Ultra Light", desc: "Unbelievably light, weighing under 900g.", usage: "Ultimate portability." },
            { id: 80, gst: 18, name: "Google Pixelbook Go", category: "Laptops", price: 64999, oldPrice: 72999, discount: "11% OFF", image: "https://images.unsplash.com/photo-1593642702749-b7d2a804fbcf?auto=format&fit=crop&q=80&w=800", tag: "Best Chrome", desc: "The go-anywhere Chromebook. Fast and simple.", usage: "Blogging and web work." },

            // MORE AUDIO (81-95)
            { id: 81, gst: 18, name: "Sony WF-1000XM5", category: "Audio", price: 21990, oldPrice: 24990, discount: "12% OFF", image: "https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&q=80&w=800", tag: "Mini King", desc: "Best ANC in a TWS earbud.", usage: "Daily commute." },
            { id: 82, gst: 18, name: "Bose SoundLink Revolve+", category: "Audio", price: 25900, oldPrice: 29900, discount: "13% OFF", image: "https://images.unsplash.com/photo-1608156639585-b3a032ef9689?auto=format&fit=crop&q=80&w=800", tag: "360 Sound", desc: "Deep, loud, and immersive 360 sound.", usage: "Parties." },
            { id: 83, gst: 18, name: "JBL Flip 6", category: "Audio", price: 9999, oldPrice: 11999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1608156639585-b3a032ef9689?auto=format&fit=crop&q=80&w=800", tag: "Portable", desc: "Bold sound for every adventure.", usage: "Outdoor hiking." },
            { id: 84, gst: 18, name: "Sennheiser HD 660S2", category: "Audio", price: 49990, oldPrice: 59990, discount: "16% OFF", image: "https://images.unsplash.com/photo-1484704849700-f032a568e944?auto=format&fit=crop&q=80&w=800", tag: "Audiophile", desc: "Open-back headphones for neutral and natural sound.", usage: "Critical music listening." },
            { id: 85, gst: 18, name: "Marshall Woburn III", category: "Audio", price: 54999, oldPrice: 59999, discount: "8% OFF", image: "https://images.unsplash.com/photo-1593062096033-9a26b09da705?auto=format&fit=crop&q=80&w=800", tag: "Iconic", desc: "Home speaker with a wide soundstage.", usage: "Living room setup." },
            { id: 86, gst: 18, name: "Google Nest Audio", category: "Audio", price: 7999, oldPrice: 9999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1589492477829-5e65395b66cc?auto=format&fit=crop&q=80&w=800", tag: "Smart", desc: "The speaker that's all about sound. Ask Google.", usage: "Smart home control." },
            { id: 87, gst: 18, name: "Apple HomePod (2nd Gen)", category: "Audio", price: 32900, oldPrice: 34900, discount: "5% OFF", image: "https://images.unsplash.com/photo-1545454675-3531b543be5d?auto=format&fit=crop&q=80&w=800", tag: "Rich Audio", desc: "Immersive, high-fidelity audio and advanced smart home control.", usage: "Apple lovers home sound." },
            { id: 88, gst: 18, name: "Bose Smart Soundbar 900", category: "Audio", price: 89900, oldPrice: 104900, discount: "14% OFF", image: "https://images.unsplash.com/photo-1545454675-3531b543be5d?auto=format&fit=crop&q=80&w=800", tag: "Cinema", desc: "Dolby Atmos soundbar for theater-like experience.", usage: "Home theater." },
            { id: 89, gst: 18, name: "Sennheiser CX Plus TWS", category: "Audio", price: 12990, oldPrice: 14990, discount: "13% OFF", image: "https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&q=80&w=800", tag: "Classic TWS", desc: "Superior sound and active noise cancellation.", usage: "Everyday listening." },
            { id: 90, gst: 18, name: "Skullcandy Crusher ANC 2", category: "Audio", price: 19999, oldPrice: 24999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=800", tag: "Sensory Bass", desc: "Bass you can feel. Adjustable sensory bass.", usage: "Bass heads." },
            { id: 91, gst: 18, name: "Sony HT-A7000", category: "Audio", price: 119990, oldPrice: 139990, discount: "14% OFF", image: "https://images.unsplash.com/photo-1545454675-3531b543be5d?auto=format&fit=crop&q=80&w=800", tag: "7.1.2 Surround", desc: "Flagship soundbar with 360 spatial sound mapping.", usage: "Ultimate home cinema." },
            { id: 92, gst: 18, name: "Beats Solo3 Wireless", category: "Audio", price: 14999, oldPrice: 19999, discount: "25% OFF", image: "https://images.unsplash.com/photo-1546435770-a3e426bf472b?auto=format&fit=crop&q=80&w=800", tag: "Daily Wear", desc: "Iconic sound and up to 40 hours of battery life.", usage: "Gym and style." },
            { id: 93, gst: 18, name: "JBL Quantum 810", category: "Audio", price: 17999, oldPrice: 22999, discount: "21% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "Gaming Audio", desc: "Wireless gaming headset with active noise cancelling.", usage: "Pro gaming." },
            { id: 94, gst: 18, name: "Nothing Ear (2)", category: "Audio", price: 8999, oldPrice: 9999, discount: "10% OFF", image: "https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&q=80&w=800", tag: "Transparent", desc: "Pure sound, custom drivers, and ANC.", usage: "Tech fashion." },
            { id: 95, gst: 18, name: "SteelSeries Arctis 7+", category: "Audio", price: 15999, oldPrice: 19999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "Wireless Pro", desc: "The best wireless gaming headset for PC.", usage: "Gaming audio." },

            // MORE GAMING (96-110)
            { id: 96, gst: 18, name: "Logitech G502 X Plus", category: "Gaming", price: 13999, oldPrice: 15999, discount: "12% OFF", image: "https://images.unsplash.com/photo-1615663245857-ac93bb7c39e7?auto=format&fit=crop&q=80&w=800", tag: "Customizable", desc: "The world's most popular gaming mouse, reimagined.", usage: "Multi-genre gaming." },
            { id: 97, gst: 18, name: "Corsair Virtuoso RGB SE", category: "Gaming", price: 19999, oldPrice: 24999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "High-Fidelity", desc: "High-fidelity gaming headset with 7.1 surround sound.", usage: "Streaming and gaming." },
            { id: 98, gst: 18, name: "ASUS ROG Claymore II", category: "Gaming", price: 21999, oldPrice: 26999, discount: "18% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "Modular", desc: "Modular mechanical gaming keyboard with optical switches.", usage: "Pro setup." },
            { id: 99, gst: 18, name: "Elgato Stream Deck MK.2", category: "Gaming", price: 13999, oldPrice: 15999, discount: "12% OFF", image: "https://images.unsplash.com/photo-1542332213-9b5a5a3fad35?auto=format&fit=crop&q=80&w=800", tag: "Streaming", desc: "15 macro keys for ultimate stream control.", usage: "Twitch/YouTube streaming." },
            { id: 100, gst: 18, name: "Samsung Odyssey OLED G8", category: "Gaming", price: 109999, oldPrice: 129999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1547119957-637f8679db1e?auto=format&fit=crop&q=80&w=800", tag: "OLED Gaming", desc: "Mesmerizing OLED display with 0.03ms response time.", usage: "Competitive gaming." },
            { id: 101, gst: 18, name: "Razer BlackShark V2 Pro", category: "Gaming", price: 17999, oldPrice: 21999, discount: "18% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "E-sports", desc: "The definitive e-sports wireless headset.", usage: "Tournament play." },
            { id: 102, gst: 18, name: "Xbox Elite Series 2", category: "Gaming", price: 15499, oldPrice: 17999, discount: "13% OFF", image: "https://images.unsplash.com/photo-1605906302474-d60faae82b32?auto=format&fit=crop&q=80&w=800", tag: "Pro Controller", desc: "Designed for world-class performance.", usage: "Competitive xbox/pc." },
            { id: 103, gst: 18, name: "Logitech G Pro Keyboard", category: "Gaming", price: 10999, oldPrice: 12999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "TKL", desc: "Tenkeyless mechanical gaming keyboard for pro-level play.", usage: "Pro tournaments." },
            { id: 104, gst: 18, name: "Astro A50 Gen 4", category: "Gaming", price: 29999, oldPrice: 34999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1612198030252-87063d39696c?auto=format&fit=crop&q=80&w=800", tag: "Base Station", desc: "Premium wireless gaming headset with base station charging.", usage: "Consoles elite play." },
            { id: 105, gst: 18, name: "Secretlab Titan EVO", category: "Gaming", price: 44999, oldPrice: 52999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1598550476439-6847785fce66?auto=format&fit=crop&q=80&w=800", tag: "Ultimate Chair", desc: "Advanced ergonomic gaming chair with lumbar support.", usage: "Elite comfort." },
            { id: 106, gst: 18, name: "Corsair ICUE Link H150i", category: "Gaming", price: 21999, oldPrice: 26999, discount: "18% OFF", image: "https://images.unsplash.com/photo-1591488320449-011701bb6704?auto=format&fit=crop&q=80&w=800", tag: "Liquid Cooler", desc: "360mm AIO liquid cooler with brilliant RGB.", usage: "PC building." },
            { id: 107, gst: 18, name: "NZXT H9 Elite", category: "Gaming", price: 19999, oldPrice: 24999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1591488320449-011701bb6704?auto=format&fit=crop&q=80&w=800", tag: "PC Case", desc: "Dual-chamber panoramic case for epic builds.", usage: "PC enthusiasts." },
            { id: 108, gst: 18, name: "NVIDIA RTX 4080 Super", category: "Gaming", price: 105000, oldPrice: 120000, discount: "12% OFF", image: "https://images.unsplash.com/photo-1591488320449-011701bb6704?auto=format&fit=crop&q=80&w=800", tag: "GPU", desc: "The ultimate power for 4K ray-traced gaming.", usage: "High-end PC builds." },
            { id: 109, gst: 18, name: "BenQ ZOWIE XL2546K", category: "Gaming", price: 39999, oldPrice: 45999, discount: "13% OFF", image: "https://images.unsplash.com/photo-1547119957-637f8679db1e?auto=format&fit=crop&q=80&w=800", tag: "240Hz", desc: "Professional e-sports monitor with DyAc+ technology.", usage: "CS/Valorant esports." },
            { id: 110, gst: 18, name: "HyperX QuadCast S", category: "Gaming", price: 14999, oldPrice: 17999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1542332213-9b5a5a3fad35?auto=format&fit=crop&q=80&w=800", tag: "RGB Mic", desc: "Full-featured standalone microphone with RGB.", usage: "Streaming and vlogs." },

            // MORE GADGETS (111-120)
            { id: 111, gst: 18, name: "Google Nest Hub Gen 2", category: "Gadgets", price: 7999, oldPrice: 9999, discount: "20% OFF", image: "https://images.unsplash.com/photo-1558002038-1055907df8d7?auto=format&fit=crop&q=80&w=800", tag: "Smart Display", desc: "The hub of your smart home. Control with a tap.", usage: "Smart Home." },
            { id: 112, gst: 18, name: "Nanoleaf Lines SMARTER KIT", category: "Gadgets", price: 16999, oldPrice: 19999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1558002038-1055907df8d7?auto=format&fit=crop&q=80&w=800", tag: "Ambiance", desc: "Backlit smart light bars for your desk setup.", usage: "Gaming room deco." },
            { id: 113, gst: 18, name: "Philips Hue Bridge", category: "Gadgets", price: 4499, oldPrice: 5999, discount: "25% OFF", image: "https://images.unsplash.com/photo-1558002038-1055907df8d7?auto=format&fit=crop&q=80&w=800", tag: "Lighting Hub", desc: "The brain of the Philips Hue smart lighting system.", usage: "Smart lighting." },
            { id: 114, gst: 18, name: "Insta360 X3", category: "Gadgets", price: 42999, oldPrice: 47999, discount: "10% OFF", image: "https://images.unsplash.com/photo-1542157585-ef20bacca039?auto=format&fit=crop&q=80&w=800", tag: "360 Cam", desc: "The ultimate 360 action camera. 5.7K video.", usage: "Adventure sports." },
            { id: 115, gst: 18, name: "Sonos Port", category: "Gadgets", price: 39999, oldPrice: 44999, discount: "11% OFF", image: "https://images.unsplash.com/photo-1545454675-3531b543be5d?auto=format&fit=crop&q=80&w=800", tag: "Music Link", desc: "Stream all your favorites to your traditional stereo.", usage: "Audiophile connectivity." },
            { id: 116, gst: 18, name: "Withings ScanWatch", category: "Gadgets", price: 29999, oldPrice: 34999, discount: "14% OFF", image: "https://images.unsplash.com/photo-1434493907317-a46b53b81846?auto=format&fit=crop&q=80&w=800", tag: "Health Watch", desc: "Hybrid smartwatch with ECG and oxygen levels.", usage: "Health tracking." },
            { id: 117, gst: 18, name: "Fitbit Charge 6", category: "Gadgets", price: 14999, oldPrice: 17999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1434493907317-a46b53b81846?auto=format&fit=crop&q=80&w=800", tag: "Fitness Pro", desc: "Advanced fitness tracker with Google apps.", usage: "Daily fitness." },
            { id: 118, gst: 18, name: "Razer Kishi V2", category: "Gadgets", price: 9999, oldPrice: 11999, discount: "16% OFF", image: "https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?auto=format&fit=crop&q=80&w=800", tag: "Mobile Gaming", desc: "Universal mobile gaming controller for smartphones.", usage: "Remote gaming." },
            { id: 119, gst: 18, name: "Logitech MX Master 3S", category: "Gadgets", price: 10999, oldPrice: 12999, discount: "15% OFF", image: "https://images.unsplash.com/photo-1615663245857-ac93bb7c39e7?auto=format&fit=crop&q=80&w=800", tag: "Productivity", desc: "Precision mouse for creative professionals.", usage: "Coding and design." },
            { id: 120, gst: 18, name: "Sony Alpha 7 IV", category: "Gadgets", price: 219900, oldPrice: 249000, discount: "11% OFF", image: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&q=80&w=800", tag: "Mirrorless", desc: "The ultimate hybrid mirrorless camera.", usage: "Pro photography." }
        ];

        let cart = JSON.parse(localStorage.getItem('spek-cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('spek-wishlist')) || [];
        let orders = JSON.parse(localStorage.getItem('spek-orders')) || [];
        let currentUser = JSON.parse(localStorage.getItem('spek-user')) || null;

        // Initialize App
        function init() {
            // Fill missing product data for demo
            products.forEach(p => {
                if (!p.rating) p.rating = (4 + Math.random() * 0.9).toFixed(1);
                if (!p.warranty) p.warranty = "1 Year Brand Warranty";
                if (!p.specs) p.specs = {
                    Color: "Premium Titanium",
                    Quantity: "In Stock",
                    Size: p.category === 'Laptops' ? "14/16 inch" : "Standard",
                    Material: "High-Grade Alloy"
                };
                if (!p.images) p.images = [p.image];
            });

            renderProducts();
            updateStats();
            checkUserStatus();
            startHeroSlideshow();
            renderRecentlyViewed();
        }

        function trackViewed(id) {
            let viewed = JSON.parse(localStorage.getItem('spek-recent')) || [];
            viewed = viewed.filter(pid => pid !== id);
            viewed.unshift(id);
            viewed = viewed.slice(0, 10);
            localStorage.setItem('spek-recent', JSON.stringify(viewed));
            renderRecentlyViewed();
        }

        function renderRecentlyViewed() {
            const viewedIds = JSON.parse(localStorage.getItem('spek-recent')) || [];
            const container = document.getElementById('recent-track');
            const section = document.getElementById('recent-section');

            if (viewedIds.length === 0) {
                section.style.display = 'none';
                return;
            }

            section.style.display = 'block';
            const viewedProducts = viewedIds.map(id => products.find(p => p.id === id)).filter(Boolean);

            container.innerHTML = viewedProducts.map(p => `
                <div class="recent-card" onclick="showProductInfo(${p.id})">
                    <img src="${p.image}" alt="${p.name}">
                    <h4>${p.name}</h4>
                    <div class="star-rating">${renderStars(p.rating)}</div>
                    <div style="font-size: 0.8rem; font-weight: 700; color: var(--primary);">₹${p.price.toLocaleString('en-IN')}</div>
                </div>
            `).join('');
        }

        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) stars += '<i class="fas fa-star"></i>';
                else if (i - 0.5 <= rating) stars += '<i class="fas fa-star-half-alt"></i>';
                else stars += '<i class="far fa-star"></i>';
            }
            return stars;
        }

        // Hero Slideshow Logic
        let currentHeroSlide = 0;
        function startHeroSlideshow() {
            const slides = document.querySelectorAll('.hero-slide');
            if (slides.length <= 1) return;

            setInterval(() => {
                slides[currentHeroSlide].classList.remove('active');
                currentHeroSlide = (currentHeroSlide + 1) % slides.length;
                slides[currentHeroSlide].classList.add('active');
            }, 3000);
        }

        const BUSINESS_WHATSAPP = "919182764299";

        function checkUserStatus() {
            const loginBtn = document.getElementById('login-nav-btn');
            if (currentUser) {
                loginBtn.innerHTML = '<i class="fas fa-user"></i>';
                loginBtn.style.color = 'var(--primary)';
            } else {
                loginBtn.innerHTML = '<i class="fas fa-user-circle"></i>';
                loginBtn.style.color = 'inherit';
            }
            // Always refresh products view to show/hide based on login
            renderProducts();
        }

        function handleLogin(event) {
            event.preventDefault();
            const countryCode = event.target.querySelector('select').value;
            const mobile = event.target.querySelector('input[type="tel"]').value;
            const fullNumber = countryCode + mobile;

            // Get existing user if any to compare
            const lastUser = JSON.parse(localStorage.getItem('spek-user'));

            // If it's a new person (different mobile number), clear history
            if (lastUser && lastUser.mobile !== fullNumber) {
                cart = [];
                wishlist = [];
                orders = [];
                updateStats();
                showToast("New user logged in. Previous history cleared.");
            }

            // Restore user data if they were logged in before, otherwise create new
            if (lastUser && lastUser.mobile === fullNumber) {
                currentUser = lastUser;
            } else {
                currentUser = {
                    mobile: fullNumber,
                    name: "User " + fullNumber.slice(-4),
                    email: '', hno: '', street: '', landmark: '', pincode: '', district: '', state: ''
                };
            }

            localStorage.setItem('spek-user', JSON.stringify(currentUser));

            showToast(`Welcome, ${currentUser.name}!`);
            checkUserStatus();
            closeModal('login');
        }

        function renderLoginStep() {
            const container = document.getElementById('login-container');
            const title = document.getElementById('login-modal-title');

            if (currentUser) {
                renderUserProfile();
                return;
            }

            title.innerText = 'Member Login';
            container.innerHTML = `
                <form onsubmit="handleLogin(event)" class="login-form">
                    <div class="form-group">
                        <label>Mobile Number (WhatsApp)</label>
                        <div style="display: flex; gap: 10px;">
                            <select style="width: 80px; padding: 0.6rem; border: 2px solid #e2e8f0; border-radius: 10px; outline: none; transition: var(--transition);">
                                <option value="91">+91 (IN)</option>
                                <option value="1">+1 (US)</option>
                                <option value="44">+44 (UK)</option>
                                <option value="971">+971 (UAE)</option>
                            </select>
                            <input type="tel" style="flex: 1;" placeholder="Enter 10-digit number" pattern="[0-9]{10}" title="Please enter a 10-digit mobile number" required>
                        </div>
                    </div>
                    <p style="font-size: 0.8rem; color: var(--text-light); margin-bottom: 1.5rem;">
                        Log in with your mobile number to access professional pricing and manage your orders.
                    </p>
                    <button type="submit" class="checkout-btn">
                        Get Started
                    </button>
                </form>
            `;
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('spek-user');
            checkUserStatus();
            closeModal('login');
            showToast('Logged out successfully');
        }

        function openModal(type) {
            const modal = document.getElementById(`${type}-modal`);
            const content = modal.querySelector('.modal-content');

            if (type === 'login') {
                if (currentUser) {
                    content.classList.add('wide');
                    renderUserProfile();
                } else {
                    content.classList.remove('wide');
                    renderLoginStep();
                }
            }
            modal.style.display = 'flex';
            if (type === 'cart') renderCart();
            if (type === 'wishlist') renderWishlist();
            if (type === 'orders') renderOrders();
        }

        function renderUserProfile() {
            const container = document.getElementById('login-container');
            const title = document.getElementById('login-modal-title');
            title.innerText = 'My Account';

            // Ensure fields exist in currentUser object
            const user = {
                name: currentUser.name || '',
                mobile: currentUser.mobile || '',
                email: currentUser.email || '',
                hno: currentUser.hno || '',
                street: currentUser.street || '',
                landmark: currentUser.landmark || '',
                pincode: currentUser.pincode || '',
                district: currentUser.district || '',
                state: currentUser.state || '',
                country: currentUser.country || 'India',
                profilePic: currentUser.profilePic || ''
            };

            container.innerHTML = `
                <div class="user-logged-in" style="max-height: 80vh; overflow-y: auto; padding: 10px 20px 20px 5px;">
                    <div class="user-avatar-container" style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem; cursor: pointer;" onclick="document.getElementById('profile-upload').click()">
                        <div class="user-avatar" id="profile-display" style="width: 100%; height: 100%; overflow: hidden; border-radius: 50%; border: 4px solid var(--primary); display: flex; align-items: center; justify-content: center; background: var(--bg-light); box-shadow: var(--shadow);">
                            ${user.profilePic ? `<img src="${user.profilePic}" style="width: 100%; height: 100%; object-fit: cover;">` : `<i class="fas fa-user-circle" style="font-size: 4rem; color: var(--primary);"></i>`}
                        </div>
                        <div style="position: absolute; bottom: 5px; right: 5px; background: var(--primary); color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                            <i class="fas fa-camera"></i>
                        </div>
                        <input type="file" id="profile-upload" style="display: none;" accept="image/*" onchange="handleProfilePic(this)">
                    </div>
                    <p style="font-size: 0.9rem; color: var(--text-main); font-weight: 600; margin-bottom: 1.5rem; text-align: center; background: #f1f5f9; padding: 5px 15px; border-radius: 20px; display: inline-block; position: relative; left: 50%; transform: translateX(-50%);">
                        <i class="fab fa-whatsapp" style="color: #25D366; margin-right: 5px;"></i> +${user.mobile}
                    </p>
                    
                    <form onsubmit="saveProfileDetails(event)" class="login-form" style="text-align: left; gap: 1.2rem; padding: 0 5px;">
                        <div class="form-group" style="gap: 0.4rem;">
                            <label style="font-size: 0.85rem; color: var(--secondary); display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-user" style="color: var(--primary); width: 15px;"></i> Full Name
                            </label>
                            <input type="text" id="prof-name" value="${user.name}" placeholder="Enter your full name" style="padding: 0.75rem 1rem; font-size: 0.95rem; border: 2px solid #e2e8f0; border-radius: 12px; width: 100%; box-sizing: border-box;">
                        </div>
                        <div class="form-group" style="gap: 0.4rem;">
                            <label style="font-size: 0.85rem; color: var(--secondary); display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-envelope" style="color: var(--primary); width: 15px;"></i> Email Address
                            </label>
                            <input type="email" id="prof-email" value="${user.email}" placeholder="yourname@gmail.com" style="padding: 0.75rem 1rem; font-size: 0.95rem; border: 2px solid #e2e8f0; border-radius: 12px; width: 100%; box-sizing: border-box;">
                        </div>
                        
                        <div style="border-top: 1px solid #f1f5f9; padding-top: 1.2rem; margin-top: 0.5rem;">
                            <p style="font-size: 0.85rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-map-marker-alt"></i> Delivery Address Details
                            </p>
                        </div>

                        <div class="form-grid">
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">House/Door No.</label>
                                <input type="text" id="prof-hno" value="${user.hno}" placeholder="H.No / Flat" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                            </div>
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">Street / Area</label>
                                <input type="text" id="prof-street" value="${user.street}" placeholder="Street Name" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                            </div>
                        </div>

                        <div class="form-group" style="gap: 0.4rem;">
                            <label style="font-size: 0.75rem; color: var(--text-light);">Nearby Landmark</label>
                            <input type="text" id="prof-landmark" value="${user.landmark}" placeholder="e.g. Near Mall / Hospital" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                        </div>

                        <div class="form-grid">
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">PIN Code</label>
                                <input type="text" id="prof-pincode" value="${user.pincode}" placeholder="6-digit" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                            </div>
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">City / District</label>
                                <input type="text" id="prof-district" value="${user.district}" placeholder="District" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                            </div>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">State</label>
                                <input type="text" id="prof-state" value="${user.state}" placeholder="State" style="padding: 0.75rem; font-size: 0.9rem; border: 2px solid #e2e8f0; border-radius: 10px; width: 100%; box-sizing: border-box;">
                            </div>
                            <div class="form-group" style="gap: 0.4rem;">
                                <label style="font-size: 0.75rem; color: var(--text-light);">Country</label>
                                <input type="text" id="prof-country" value="${user.country}" placeholder="Country" readonly style="padding: 0.75rem; font-size: 0.9rem; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 10px; color: var(--text-light); width: 100%; box-sizing: border-box;">
                            </div>
                        </div>
                        
                        <button type="submit" class="checkout-btn" style="padding: 0.9rem; font-size: 0.95rem; margin-top: 1rem; border-radius: 15px; box-shadow: 0 4px 10px rgba(0, 168, 168, 0.2);">Update Profile & Address</button>
                    </form>

                    <div style="width: 100%; margin-top: 1rem; display: flex; flex-direction: column; gap: 8px; border-top: 1px solid #eee; padding-top: 1rem;">
                        <button class="add-cart-btn" style="width: 100%; padding: 0.6rem; font-size: 0.85rem;" onclick="closeModal('login'); openModal('orders');">My Order History</button>
                        <button class="checkout-btn" style="background: #ef4444; padding: 0.6rem; font-size: 0.85rem;" onclick="logout()">Sign Out</button>
                    </div>
                </div>
            `;
        }



        function handleProfilePic(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const profileDisplay = document.getElementById('profile-display');
                    profileDisplay.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover;">`;
                    currentUser.profilePic = e.target.result;
                    // Auto-save pic immediately
                    localStorage.setItem('spek-user', JSON.stringify(currentUser));
                    showToast("Profile Picture Updated!");
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function saveProfileDetails(event) {
            event.preventDefault();

            currentUser.name = document.getElementById('prof-name').value;
            currentUser.email = document.getElementById('prof-email').value;
            currentUser.hno = document.getElementById('prof-hno').value;
            currentUser.street = document.getElementById('prof-street').value;
            currentUser.landmark = document.getElementById('prof-landmark').value;
            currentUser.pincode = document.getElementById('prof-pincode').value;
            currentUser.district = document.getElementById('prof-district').value;
            currentUser.state = document.getElementById('prof-state').value;
            currentUser.country = document.getElementById('prof-country').value;

            localStorage.setItem('spek-user', JSON.stringify(currentUser));
            showToast("Profile Updated!");
            checkUserStatus();
            renderUserProfile();
        }

        // Initialize Products
        function renderProducts(filter = 'All', searchQuery = '') {
            const container = document.getElementById('product-container');
            const heading = document.getElementById('products-heading');
            const subheading = document.getElementById('products-subheading');
            const searchInput = document.getElementById('search-input');

            // If we are filtering by category and no search query is provided, clear search input
            if (filter !== 'All' && !searchQuery) {
                searchInput.value = '';
            } else if (filter === 'All' && !searchQuery) {
                searchInput.value = '';
            }

            let filtered = filter === 'All' ? products : products.filter(p => p.category === filter);

            if (searchQuery) {
                const query = searchQuery.toLowerCase();
                filtered = filtered.filter(p =>
                    p.name.toLowerCase().includes(query) ||
                    p.desc.toLowerCase().includes(query) ||
                    p.category.toLowerCase().includes(query)
                );
            }

            // Update heading text
            if (searchQuery) {
                heading.innerText = `Search Results: "${searchQuery}"`;
                subheading.innerText = `Found ${filtered.length} products matching your search`;
            } else if (filter === 'All') {
                heading.innerText = "Featured Products";
                subheading.innerText = "Best sellers in next-gen electronics";
            } else {
                heading.innerText = filter;
                subheading.innerText = `Premium ${filter} for your digital life`;
            }
            if (filtered.length === 0) {
                container.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: var(--text-light);">
                            <i class="fas fa-box-open" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <h3>No products found matching your search</h3>
                            <p>Try exploring our other electronics categories.</p>
                        </div>
                    `;
                return;
            }

            container.innerHTML = filtered.map(p => `
                <div class="product-card" onclick="showProductInfo(${p.id})">
                    ${p.discount ? `<div class="discount-badge">${p.discount}</div>` : ''}
                    <img src="${p.image}" alt="${p.name}" class="product-img">
                    <div class="product-info">
                        <span class="product-tag">${p.tag}</span>
                        <h3 class="product-title">${p.name}</h3>
                        <div class="star-rating">${renderStars(p.rating)}</div>
                        ${p.price ? `
                        <div class="product-price">
                            <span class="current-price">₹${p.price.toLocaleString('en-IN')}</span>
                            ${p.oldPrice ? `<span class="old-price">₹${p.oldPrice.toLocaleString('en-IN')}</span>` : ''}
                        </div>` : ''}
                        <div class="product-actions" style="display: flex; gap: 5px; margin-top: 8px;">
                            <button class="add-cart-btn" style="flex: 2;" onclick="event.stopPropagation(); addToCart(${p.id})">Add</button>
                            <button class="wish-btn ${wishlist.includes(p.id) ? 'active' : ''}" style="flex: 1; padding: 0;" onclick="event.stopPropagation(); toggleWishlist(${p.id})">
                                <i class="${wishlist.includes(p.id) ? 'fas' : 'far'} fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showProductInfo(id) {
            trackViewed(id);
            const p = products.find(prod => prod.id === id);
            const container = document.getElementById('info-container');
            const title = document.getElementById('info-title');

            title.innerText = p.name;

            const hasMultipleImages = p.images && p.images.length > 0;
            const imagesHtml = hasMultipleImages ? p.images.map((img, index) => `
                    <div class="thumb-item ${index === 0 ? 'active' : ''}" onclick="changeMainImage(this, '${img}')">
                        <img src="${img}" alt="${p.name} preview">
                    </div>
                `).join('') : '';

            let specsHtml = '';
            if (p.specs) {
                specsHtml = '<div class="specs-grid">' + Object.entries(p.specs).map(([label, value]) => `
                    <div class="spec-item">
                        <span class="spec-label">${label}</span>
                        <span class="spec-value">${value}</span>
                    </div>
                `).join('') + '</div>';
            }

            container.innerHTML = `
                    <div class="product-gallery">
                        <div class="main-img-container" style="background: #f8fafc; border-radius: 15px; overflow: hidden; margin-bottom: 1rem;">
                            <img src="${p.image}" id="main-product-img" alt="${p.name}" style="width: 100%; height: 300px; object-fit: contain;">
                        </div>
                        ${hasMultipleImages ? `<div class="thumb-grid">${imagesHtml}</div>` : ''}
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div>
                            <span class="product-tag" style="font-size: 0.8rem; padding: 4px 12px;">${p.tag}</span>
                            <div class="star-rating">${renderStars(p.rating)} <span style="font-size: 0.8rem; color: #64748b; margin-left: 5px;">(${p.rating})</span></div>
                        </div>
                        ${p.price ? `<div class="current-price" style="font-size: 1.4rem; font-family: 'Space Grotesk';">₹${p.price.toLocaleString('en-IN')}</div>` : ''}
                    </div>

                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 15px;">
                        <h4 style="color: var(--primary); margin-bottom: 0.5rem; font-size: 1rem;">
                            <i class="fas fa-info-circle"></i> Overview
                        </h4>
                        <p style="font-size: 0.95rem; margin-bottom: 1.5rem; color: var(--text-main); line-height: 1.6;">${p.desc}</p>
                        
                        <h4 style="color: var(--accent); margin-bottom: 0.5rem; font-size: 1rem;">
                            <i class="fas fa-shield-alt"></i> Warranty & Specs
                        </h4>
                        <p style="font-size: 0.9rem; font-weight: 600; color: #1e293b; margin-bottom: 10px;">${p.warranty}</p>
                        ${specsHtml}
                        
                        <h4 style="color: #6366f1; margin-top: 1.5rem; margin-bottom: 0.5rem; font-size: 1rem;">
                            <i class="fas fa-rocket"></i> Key Features & Usage
                        </h4>
                        <p style="font-size: 0.9rem; line-height: 1.6; color: var(--text-main);">
                            ${p.usage}
                        </p>
                    </div>

                    <button class="checkout-btn" style="margin-top: 1.5rem; width: 100%;" onclick="addToCart(${p.id})">
                        Add to Cart ${p.price ? `- ₹${p.price.toLocaleString('en-IN')}` : ''}
                    </button>
                `;
            openModal('info');
        }

        function changeMainImage(thumb, imgSrc) {
            document.getElementById('main-product-img').src = imgSrc;
            document.querySelectorAll('.thumb-item').forEach(item => item.classList.remove('active'));
            thumb.classList.add('active');
        }

        function handleSearch(query) {
            // When searching, we usually search across all categories
            // If the search bar is cleared, we go back to 'All' products
            renderProducts('All', query);
        }

        // Cart Logic
        function addToCart(id) {
            if (!currentUser) {
                showToast("Please login to add items to cart");
                openModal('login');
                return;
            }
            const product = products.find(p => p.id === id);
            const existingItem = cart.find(item => item.id === id);

            if (existingItem) {
                existingItem.quantity = (existingItem.quantity || 1) + 1;
                showToast(`Increased ${product.name} quantity to ${existingItem.quantity}!`);
            } else {
                cart.push({ ...product, cartId: Date.now(), quantity: 1 });
                showToast(`Added ${product.name} to cart!`);
            }
            updateStats();
        }

        function changeQuantity(cartId, delta) {
            const item = cart.find(i => i.cartId === cartId);
            if (item) {
                item.quantity = (item.quantity || 1) + delta;
                if (item.quantity <= 0) {
                    removeFromCart(cartId);
                } else {
                    updateStats();
                    renderCart();
                }
            }
        }

        function removeFromCart(cartId) {
            cart = cart.filter(item => item.cartId !== cartId);
            updateStats();
            renderCart();
        }

        function renderCart() {
            const container = document.getElementById('cart-items');
            if (cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#64748b; margin-top: 2rem;">Your cart is empty.</p>';
                document.getElementById('cart-total') ? document.getElementById('cart-total').innerText = '₹0.00' : null;
                return;
            }
            container.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.name}">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">${item.price ? '₹' + item.price.toLocaleString('en-IN') : 'Price on Request'}</div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
                            <button onclick="changeQuantity(${item.cartId}, -1)" style="width: 25px; height: 25px; border-radius: 50%; border: 1px solid #e2e8f0; background: white; cursor: pointer;">-</button>
                            <span style="font-weight: 600; font-size: 0.9rem;">${item.quantity || 1}</span>
                            <button onclick="changeQuantity(${item.cartId}, 1)" style="width: 25px; height: 25px; border-radius: 50%; border: 1px solid #e2e8f0; background: white; cursor: pointer;">+</button>
                        </div>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.cartId})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('');

            let subtotal = 0;
            let totalTax = 0;

            cart.forEach(item => {
                const price = (item.price || 0) * (item.quantity || 1);
                subtotal += price;
                totalTax += (price * (item.gst || 0) / 100);
            });

            const grandTotal = subtotal + totalTax;

            // Build the cost summary HTML
            const summaryHTML = `
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span>₹${subtotal.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>
                </div>
                <div class="total-row">
                    <span>Total GST:</span>
                    <span>₹${totalTax.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>
                </div>
                <div class="grand-total-row">
                    <span>Grand Total:</span>
                    <span>₹${grandTotal.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>
                </div>
            `;

            document.getElementById('cart-summary').innerHTML = summaryHTML;
        }

        // Wishlist Logic
        function toggleWishlist(id) {
            if (!currentUser) {
                showToast("Please login to add items to wishlist");
                openModal('login');
                return;
            }
            if (wishlist.includes(id)) {
                wishlist = wishlist.filter(itemId => itemId !== id);
            } else {
                wishlist.push(id);
                showToast("Added to wishlist!");
            }
            updateStats();
            renderProducts();
            renderWishlist();
        }

        function renderWishlist() {
            const container = document.getElementById('wishlist-items');
            const items = products.filter(p => wishlist.includes(p.id));
            if (items.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#64748b; margin-top: 2rem;">Your wishlist is empty.</p>';
                return;
            }
            container.innerHTML = items.map(p => `
                < div class="cart-item" >
                    <img src="${p.image}" alt="${p.name}">
                        <div class="cart-item-info">
                            <div class="cart-item-title">${p.name}</div>
                            <div class="cart-item-price">${p.price ? '₹' + p.price.toLocaleString('en-IN') : 'Price on Request'}</div>
                        </div>
                        <button class="add-cart-btn" style="padding: 0.4rem; font-size: 0.8rem;" onclick="addToCart(${p.id})">Add</button>
                    </div>
            `).join('');
        }

        // Orders Logic
        function checkout() {
            if (cart.length === 0) return;

            if (!currentUser) {
                showToast("Please login to place an order");
                openModal('login');
                return;
            }

            // Check if address and name are filled
            const requiredFields = ['name', 'hno', 'street', 'pincode', 'district', 'state'];
            const isAddressIncomplete = requiredFields.some(field => !currentUser[field]);

            if (isAddressIncomplete) {
                showToast("Please complete your delivery address in profile");
                openModal('login'); // Opens profile if logged in
                return;
            }
            // Show confirmation popup before proceeding
            openModal('confirm');
        }

        function confirmOrder(method) {
            closeModal('confirm');
            processOrder(method);
        }

        function createInvoiceDoc(orderId, items, subtotal, totalTax, grandTotal) {
            if (!items || items.length === 0) return;
            if (!window.jspdf) {
                console.error("jsPDF library not loaded");
                return;
            }
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Colors - Premium Dark Mode Style
            const primaryColor = [15, 23, 42]; // Slate 900
            const accentColor = [255, 126, 95]; // Primary Orange
            const textColor = [30, 41, 59];

            // Header Background
            doc.setFillColor(...primaryColor);
            doc.rect(0, 0, 210, 45, 'F');

            // Logo Text
            doc.setTextColor(255, 255, 255);
            doc.setFont("courier", "bold");
            doc.setFontSize(22);
            doc.text("SPEK ELECTRONICS", 14, 25);

            doc.setFontSize(10);
            doc.setFont("courier", "normal");
            doc.text("NEXT GEN TECHNOLOGY HUB", 14, 32);

            doc.setFontSize(24);
            doc.setFont("helvetica", "bold");
            doc.text("INVOICE", 195, 30, { align: "right" });

            // Info
            const today = new Date();
            const formattedDate = `${String(today.getDate()).padStart(2, '0')}/${String(today.getMonth() + 1).padStart(2, '0')}/${today.getFullYear()}`;
            doc.setTextColor(...textColor);
            doc.setFont("helvetica", "normal");
            doc.setFontSize(10);
            doc.text(`Invoice No: ${orderId}`, 14, 55);
            doc.text(`Date of Issue: ${formattedDate}`, 14, 61);

            if (currentUser) {
                doc.setFont("helvetica", "bold");
                doc.text("BILL TO:", 130, 55);
                doc.setFont("helvetica", "bold");
                doc.setTextColor(...accentColor);
                doc.text(currentUser.name || "Valued Customer", 130, 61);
                doc.setTextColor(...textColor);
                doc.setFont("helvetica", "normal");
                doc.setFontSize(9);
                if (currentUser.mobile) doc.text(`Mobile: +${currentUser.mobile}`, 130, 66);
                if (currentUser.email) doc.text(`Email: ${currentUser.email}`, 130, 71);

                const addr = [currentUser.hno, currentUser.street, currentUser.landmark, `${currentUser.district} ${currentUser.pincode}`, currentUser.state].filter(Boolean).join(', ');
                if (addr) {
                    const splitAddr = doc.splitTextToSize(addr, 70);
                    doc.setFont("helvetica", "bold");
                    doc.text("SHIP TO:", 130, 80);
                    doc.setFont("helvetica", "normal");
                    doc.text(splitAddr, 130, 85);
                }
            }

            // Table setup - Removing special characters causing formatting issues
            const tableRows = items.map(item => {
                const price = item.price || 0;
                const qty = item.quantity || 1;
                const taxableValue = price * qty;
                const gstRate = item.gst || 0;
                const total = taxableValue + (taxableValue * gstRate / 100);
                return [
                    item.name,
                    `${price.toLocaleString('en-IN')}`, // Removed ₹ symbol for PDF stability
                    qty.toString(),
                    `${taxableValue.toLocaleString('en-IN')}`,
                    `${gstRate}%`,
                    `${total.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
                ];
            });

            doc.autoTable({
                head: [["Item Description", "Price (INR)", "Qty", "Taxable", "GST", "Total (INR)"]],
                body: tableRows,
                startY: 110,
                theme: 'striped',
                headStyles: { fillColor: primaryColor, textColor: 255, fontStyle: 'bold' },
                styles: { fontSize: 8, cellPadding: 3, font: 'helvetica' },
                columnStyles: { 0: { cellWidth: 60 }, 1: { halign: 'right' }, 2: { halign: 'center' }, 3: { halign: 'right' }, 4: { halign: 'center' }, 5: { halign: 'right' } }
            });

            // Totals
            const finalY = doc.lastAutoTable.finalY + 15;
            doc.setFontSize(10);
            doc.text("SUBTOTAL:", 140, finalY);
            doc.text(`${subtotal.toLocaleString('en-IN')}`, 195, finalY, { align: "right" });
            doc.text("GST TOTAL:", 140, finalY + 7);
            doc.text(`${totalTax.toLocaleString('en-IN')}`, 195, finalY + 7, { align: "right" });

            doc.setFillColor(...accentColor);
            doc.rect(138, finalY + 11, 60, 10, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFont("helvetica", "bold");
            doc.text("GRAND TOTAL:", 140, finalY + 18);
            doc.text(`${grandTotal.toLocaleString('en-IN')}`, 195, finalY + 18, { align: "right" });

            // Footer
            doc.setTextColor(100);
            doc.setFont("helvetica", "normal");
            doc.setFontSize(8);
            doc.text("This is a computer generated invoice. No signature required.", 105, 275, { align: "center" });
            doc.text("Thank you for shopping with SPEK - Visit us again at speknextgen.com", 105, 280, { align: "center" });

            return doc;
        }

        async function processOrder(method) {
            let subtotal = 0;
            let totalTax = 0;

            cart.forEach(item => {
                const price = (item.price || 0) * (item.quantity || 1);
                subtotal += price;
                totalTax += (price * (item.gst || 0) / 100);
            });

            const grandTotal = subtotal + totalTax;
            const orderId = 'ORD-' + Math.floor(1000 + Math.random() * 9000);
            const itemCount = cart.length;

            // SHORT MESSAGE FOR APP REDIRECTION
            const simpleMessage = method === 'whatsapp'
                ? `*New Order: ${orderId}*\n*Grand Total:* ₹${grandTotal.toLocaleString('en-IN', { minimumFractionDigits: 2 })}\n*Items:* ${itemCount}\n\nHi, please find my order invoice attached.`
                : `Order ID: ${orderId}\nTotal: ₹${grandTotal.toLocaleString('en-IN', { minimumFractionDigits: 2 })}\nItems: ${itemCount}\n\nHi SPEK,\n\nPlease process my order. The invoice is attached below.\n\nRegards,\n${currentUser.name || 'Customer'}`;

            const newOrder = {
                id: orderId,
                date: new Date().toLocaleDateString(),
                total: grandTotal,
                items: [...cart]
            };

            try {
                const doc = createInvoiceDoc(orderId, newOrder.items, subtotal, totalTax, grandTotal);
                if (doc) {
                    doc.save(`Invoice_${orderId}.pdf`);
                }
            } catch (e) {
                console.error("PDF Gen Error:", e);
                showToast("Error generating invoice PDF");
            }

            orders.push(newOrder);
            cart = [];
            updateStats();
            closeModal('cart');

            // Show Feedback Modal after short delay
            setTimeout(() => {
                openModal('feedback');
            }, 2000);

            // Redirect Logic to Specific Contacts
            if (method === 'whatsapp') {
                const adminWhatsApp = "919182764299";
                const message = encodeURIComponent(simpleMessage);
                const whatsappUrl = `https://wa.me/${adminWhatsApp}?text=${message}`;

                showToast("Invoice Downloaded! Order Processing...");
                setTimeout(() => window.open(whatsappUrl, '_blank'), 1500);
            } else {
                const adminEmail = "samuelpauljalli@gmail.com";
                const subject = `New Order: ${orderId} - ${currentUser.name || 'Customer'}`;
                const body = simpleMessage;

                const gmailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=${adminEmail}&su=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                const mailtoUrl = `mailto:${adminEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

                showToast("Invoice Downloaded! Order Processing...");

                setTimeout(() => {
                    const newWindow = window.open(gmailUrl, '_blank');
                    if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                        window.location.href = mailtoUrl;
                    }
                }, 1500);
            }
        }

        function setFeedbackRating(val) {
            const stars = document.getElementById('feedback-stars').querySelectorAll('i');
            stars.forEach((s, idx) => {
                if (idx < val) s.classList.add('active');
                else s.classList.remove('active');
            });
            document.getElementById('feedback-msg').style.display = 'block';
        }


        function clearOrderHistory() {
            if (confirm("Are you sure you want to clear your entire order history?")) {
                orders = [];
                updateStats();
                renderOrders();
                showToast("Order history cleared");
            }
        }

        function renderOrders() {
            const container = document.getElementById('order-history');
            if (orders.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#64748b; margin-top: 2rem;">No orders yet.</p>';
                return;
            }

            const clearBtnHtml = `
                <div style="display: flex; justify-content: flex-end; margin-bottom: 1.5rem;">
                    <button onclick="clearOrderHistory()" style="background: #fee2e2; color: #ef4444; border: 1px solid #fecaca; padding: 0.6rem 1rem; border-radius: 10px; cursor: pointer; font-size: 0.85rem; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: var(--transition);">
                        <i class="fas fa-trash-alt"></i> Clear Order History
                    </button>
                </div>
            `;

            container.innerHTML = clearBtnHtml + orders.map(order => `
                <div class="order-card">
                    <div class="order-meta">
                        <span>${order.id}</span>
                        <span>${order.date}</span>
                    </div>
                    <strong>Total: ₹${order.total.toLocaleString('en-IN')}</strong>
                    <div style="font-size: 0.8rem; margin-top: 0.5rem; color: #64748b;">
                        ${order.items.reduce((sum, item) => sum + (item.quantity || 1), 0)} items purchased
                    </div>
                </div>
            `).join('');
        }

        // UI Helpers
        function updateStats() {
            const totalQty = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            document.getElementById('cart-count').innerText = totalQty;
            document.getElementById('wishlist-count').innerText = wishlist.length;
            localStorage.setItem('spek-cart', JSON.stringify(cart));
            localStorage.setItem('spek-wishlist', JSON.stringify(wishlist));
            localStorage.setItem('spek-orders', JSON.stringify(orders));
        }

        function closeModal(id) {
            document.getElementById(id + '-modal').style.display = 'none';
        }

        function toggleSearch() {
            const searchBar = document.getElementById('search-bar');
            const searchInput = document.getElementById('search-input');
            if (searchBar.classList.contains('active')) {
                searchBar.classList.remove('active');
            } else {
                searchBar.classList.add('active');
                searchInput.focus();
            }
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // Initialize page
        window.onclick = function (event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.style.display = 'none';
            }
        };

        // Initialize
        init();
    </script>
</body>

</html>
